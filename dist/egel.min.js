!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("egel",[],e):"object"==typeof exports?exports.egel=e():t.egel=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=21)}([function(t,e,r){"use strict";function n(t){a=t}function i(){return a}Object.defineProperty(e,"__esModule",{value:!0}),e.set=n,e.get=i;var a},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var i=r(2),a=n(i),o=r(22),s=n(o),u=r(23),c=n(u),h=r(9),f=n(h),l=r(24),d=n(l),v=r(25),p=n(v),M=r(26),b=n(M),m=r(10),_=n(m),x=r(11),y=n(x);e.glMatrix=a,e.mat2=s,e.mat2d=c,e.mat3=f,e.mat4=d,e.quat=p,e.vec2=b,e.vec3=_,e.vec4=y},function(t,e,r){"use strict";function n(t){e.ARRAY_TYPE=s=t}function i(t){return t*u}function a(t,e){return Math.abs(t-e)<=o*Math.max(1,Math.abs(t),Math.abs(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=n,e.toRadian=i,e.equals=a;var o=e.EPSILON=1e-6,s=e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,u=(e.RANDOM=Math.random,Math.PI/180)},function(t,e,r){"use strict";r.d(e,"k",function(){return n}),r.d(e,"d",function(){return i}),r.d(e,"_16",function(){return a}),r.d(e,"x",function(){return o}),r.d(e,"n",function(){return s}),r.d(e,"a",function(){return u}),r.d(e,"o",function(){return c}),r.d(e,"f",function(){return h}),r.d(e,"m",function(){return f}),r.d(e,"w",function(){return l}),r.d(e,"h",function(){return d}),r.d(e,"i",function(){return v}),r.d(e,"g",function(){return p}),r.d(e,"v",function(){return M}),r.d(e,"p",function(){return b}),r.d(e,"_18",function(){return m}),r.d(e,"e",function(){return _}),r.d(e,"s",function(){return x}),r.d(e,"t",function(){return y}),r.d(e,"r",function(){return g}),r.d(e,"_12",function(){return w}),r.d(e,"_13",function(){return O}),r.d(e,"_14",function(){return A}),r.d(e,"_15",function(){return E}),r.d(e,"_4",function(){return P}),r.d(e,"_5",function(){return S}),r.d(e,"_9",function(){return R}),r.d(e,"_6",function(){return q}),r.d(e,"_10",function(){return I}),r.d(e,"_7",function(){return T}),r.d(e,"_11",function(){return j}),r.d(e,"_8",function(){return L}),r.d(e,"y",function(){return C}),r.d(e,"z",function(){return N}),r.d(e,"K",function(){return D}),r.d(e,"V",function(){return V}),r.d(e,"Y",function(){return F}),r.d(e,"Z",function(){return k}),r.d(e,"_0",function(){return Y}),r.d(e,"_1",function(){return U}),r.d(e,"_2",function(){return B}),r.d(e,"_3",function(){return z}),r.d(e,"A",function(){return H}),r.d(e,"B",function(){return X}),r.d(e,"C",function(){return G}),r.d(e,"D",function(){return W}),r.d(e,"E",function(){return Q}),r.d(e,"F",function(){return Z}),r.d(e,"G",function(){return K}),r.d(e,"H",function(){return J}),r.d(e,"I",function(){return $}),r.d(e,"J",function(){return tt}),r.d(e,"L",function(){return et}),r.d(e,"M",function(){return rt}),r.d(e,"N",function(){return nt}),r.d(e,"O",function(){return it}),r.d(e,"P",function(){return at}),r.d(e,"Q",function(){return ot}),r.d(e,"R",function(){return st}),r.d(e,"S",function(){return ut}),r.d(e,"T",function(){return ct}),r.d(e,"U",function(){return ht}),r.d(e,"W",function(){return ft}),r.d(e,"X",function(){return lt}),r.d(e,"b",function(){return dt}),r.d(e,"q",function(){return vt}),r.d(e,"u",function(){return pt}),r.d(e,"l",function(){return Mt}),r.d(e,"c",function(){return bt}),r.d(e,"j",function(){return mt}),r.d(e,"_17",function(){return _t});var n=256,i=16384,a=4,o=35044,s=35048,u=34962,c=34963,h=2884,f=2929,l=3089,d=5121,v=5123,p=5126,M=6408,b=35632,m=35633,_=35713,x=35714,y=9728,g=9729,w=10240,O=10241,A=10242,E=10243,P=3553,S=34067,R=34069,q=34070,I=34071,T=34072,j=34073,L=34074,C=33984,N=33985,D=33986,V=33987,F=33988,k=33989,Y=33990,U=33991,B=33992,z=33993,H=33994,X=33995,G=33996,W=33997,Q=33998,Z=33999,K=34e3,J=34001,$=34002,tt=34003,et=34004,rt=34005,nt=34006,it=34007,at=34008,ot=34009,st=34010,ut=34011,ct=34012,ht=34013,ft=34014,lt=34015,dt=33071,vt=36160,pt=36161,Mt=33189,bt=36064,mt=36096,_t=37440},function(t,e,r){"use strict";function n(t){return{vertexArrayObjectExtension:t.getExtension("OES_vertex_array_object")||!1,standardDerivativesExtension:t.getExtension("OES_standard_derivatives")||!1}}function i(t){a=n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.set=i,r.d(e,"extensions",function(){return a});var a={}},function(t,e,r){"use strict";function n(t){return!(t&t-1||!t)}function i(t,e,r){var n=a.quat.create(),i=a.vec3.create(),o=a.vec3.create(),s=a.vec3.create();return a.vec3.sub(s,t,e),0===a.vec3.squaredLength(s)&&(s[2]=1),a.vec3.normalize(s,s),a.vec3.cross(i,r,s),0===a.vec3.squaredLength(i)&&(s[2]+=1e-4,a.vec3.cross(i,r,s)),a.vec3.normalize(i,i),a.vec3.cross(o,s,i),a.quat.setAxes(n,s,i,o),a.quat.invert(n,n),n}Object.defineProperty(e,"__esModule",{value:!0}),e.isPowerOfTwo=n,e.lookAt=i;var a=r(1);r.n(a)},function(t,e,r){"use strict";var n=r(1),i=(r.n(n),r(7)),a=function(){function t(t){this.projectionMatrix=n.mat4.create(),this.worldInverseMatrix=n.mat4.create(),this.near=.1,this.far=100,this.fieldOfView=60,this.aspectRatio=i.RENDERER_DEFAULT_ASPECT_RATIO,this.position=n.vec3.create(),this.target=n.vec3.create(),this.up=n.vec3.fromValues(0,1,0),Object.assign(this,t)}return t.prototype.lookAt=function(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),n.vec3.set(this.target,t,e,r)},t.prototype.updateMatrixWorld=function(){n.mat4.identity(this.worldInverseMatrix),n.mat4.lookAt(this.worldInverseMatrix,this.position,this.target,this.up)},t.prototype.updateProjectionMatrix=function(){},t}();e.a=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"MAX_DEVICE_PIXEL_RATIO",function(){return n}),r.d(e,"RENDERER_DEFAULT_WIDTH",function(){return i}),r.d(e,"RENDERER_DEFAULT_HEIGHT",function(){return a}),r.d(e,"RENDERER_DEFAULT_ASPECT_RATIO",function(){return o});var n=2,i=window.innerWidth,a=window.innerHeight,o=i/a},function(t,e,r){"use strict";function n(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=function(){r(console.warn("Failed to load: "+t))},n.src=t})}e.a=n},function(t,e,r){"use strict";function n(){var t=new L.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(t){var e=new L.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(t,e,r,n,i,a,o,s,u){var c=new L.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=n,c[4]=i,c[5]=a,c[6]=o,c[7]=s,c[8]=u,c}function u(t,e,r,n,i,a,o,s,u,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function h(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function f(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=h*o-s*c,l=-h*a+s*u,d=c*a-o*u,v=r*f+n*l+i*d;return v?(v=1/v,t[0]=f*v,t[1]=(-h*n+i*c)*v,t[2]=(s*n-i*o)*v,t[3]=l*v,t[4]=(h*r-i*u)*v,t[5]=(-s*r+i*a)*v,t[6]=d*v,t[7]=(-c*r+n*u)*v,t[8]=(o*r-n*a)*v,t):null}function l(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=o*h-s*c,t[1]=i*c-n*h,t[2]=n*s-i*o,t[3]=s*u-a*h,t[4]=r*h-i*u,t[5]=i*a-r*s,t[6]=a*c-o*u,t[7]=n*u-r*c,t[8]=r*o-n*a,t}function d(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],c=t[8];return e*(c*a-o*u)+r*(-c*i+o*s)+n*(u*i-a*s)}function v(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=r[0],d=r[1],v=r[2],p=r[3],M=r[4],b=r[5],m=r[6],_=r[7],x=r[8];return t[0]=l*n+d*o+v*c,t[1]=l*i+d*s+v*h,t[2]=l*a+d*u+v*f,t[3]=p*n+M*o+b*c,t[4]=p*i+M*s+b*h,t[5]=p*a+M*u+b*f,t[6]=m*n+_*o+x*c,t[7]=m*i+_*s+x*h,t[8]=m*a+_*u+x*f,t}function p(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=l*n+d*o+c,t[7]=l*i+d*s+h,t[8]=l*a+d*u+f,t}function M(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=Math.sin(r),d=Math.cos(r);return t[0]=d*n+l*o,t[1]=d*i+l*s,t[2]=d*a+l*u,t[3]=d*o-l*n,t[4]=d*s-l*i,t[5]=d*u-l*a,t[6]=c,t[7]=h,t[8]=f,t}function b(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function m(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function _(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function x(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function y(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function g(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,u=i+i,c=r*o,h=n*o,f=n*s,l=i*o,d=i*s,v=i*u,p=a*o,M=a*s,b=a*u;return t[0]=1-f-v,t[3]=h-b,t[6]=l+M,t[1]=h+b,t[4]=1-c-v,t[7]=d-p,t[2]=l-M,t[5]=d+p,t[8]=1-c-f,t}function w(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],d=e[11],v=e[12],p=e[13],M=e[14],b=e[15],m=r*s-n*o,_=r*u-i*o,x=r*c-a*o,y=n*u-i*s,g=n*c-a*s,w=i*c-a*u,O=h*p-f*v,A=h*M-l*v,E=h*b-d*v,P=f*M-l*p,S=f*b-d*p,R=l*b-d*M,q=m*R-_*S+x*P+y*E-g*A+w*O;return q?(q=1/q,t[0]=(s*R-u*S+c*P)*q,t[1]=(u*E-o*R-c*A)*q,t[2]=(o*S-s*E+c*O)*q,t[3]=(i*S-n*R-a*P)*q,t[4]=(r*R-i*E+a*A)*q,t[5]=(n*E-r*S-a*O)*q,t[6]=(p*w-M*g+b*y)*q,t[7]=(M*x-v*w-b*_)*q,t[8]=(v*g-p*x+b*m)*q,t):null}function O(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function A(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function E(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function P(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function S(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function R(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function q(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function I(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function T(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],h=t[8],f=e[0],l=e[1],d=e[2],v=e[3],p=e[4],M=e[5],b=e[6],m=e[7],_=e[8];return Math.abs(r-f)<=L.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-l)<=L.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-d)<=L.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-v)<=L.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-p)<=L.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-M)<=L.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-b)<=L.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(c-m)<=L.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(h-_)<=L.EPSILON*Math.max(1,Math.abs(h),Math.abs(_))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.fromMat4=i,e.clone=a,e.copy=o,e.fromValues=s,e.set=u,e.identity=c,e.transpose=h,e.invert=f,e.adjoint=l,e.determinant=d,e.multiply=v,e.translate=p,e.rotate=M,e.scale=b,e.fromTranslation=m,e.fromRotation=_,e.fromScaling=x,e.fromMat2d=y,e.fromQuat=g,e.normalFromMat4=w,e.projection=O,e.str=A,e.frob=E,e.add=P,e.subtract=S,e.multiplyScalar=R,e.multiplyScalarAndAdd=q,e.exactEquals=I,e.equals=T;var j=r(2),L=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(j);e.mul=v,e.sub=S},function(t,e,r){"use strict";function n(){var t=new B.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function i(t){var e=new B.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function o(t,e,r){var n=new B.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=r,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function c(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function h(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function f(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function l(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function v(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function p(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function M(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function b(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function m(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function _(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}function y(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function g(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function O(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function A(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function E(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function P(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2];return t[0]=i*u-a*s,t[1]=a*o-n*u,t[2]=n*s-i*o,t}function S(t,e,r,n){var i=e[0],a=e[1],o=e[2];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t}function R(t,e,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,c=o*(a-1),h=o*(3-2*a);return t[0]=e[0]*s+r[0]*u+n[0]*c+i[0]*h,t[1]=e[1]*s+r[1]*u+n[1]*c+i[1]*h,t[2]=e[2]*s+r[2]*u+n[2]*c+i[2]*h,t}function q(t,e,r,n,i,a){var o=1-a,s=o*o,u=a*a,c=s*o,h=3*a*s,f=3*u*o,l=u*a;return t[0]=e[0]*c+r[0]*h+n[0]*f+i[0]*l,t[1]=e[1]*c+r[1]*h+n[1]*f+i[1]*l,t[2]=e[2]*c+r[2]*h+n[2]*f+i[2]*l,t}function I(t,e){e=e||1;var r=2*B.RANDOM()*Math.PI,n=2*B.RANDOM()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t}function T(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,t}function j(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t}function L(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2],c=r[3],h=c*n+s*a-u*i,f=c*i+u*n-o*a,l=c*a+o*i-s*n,d=-o*n-s*i-u*a;return t[0]=h*c+d*-o+f*-u-l*-s,t[1]=f*c+d*-s+l*-o-h*-u,t[2]=l*c+d*-u+h*-s-f*-o,t}function C(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function N(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function D(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function V(t,e){var r=o(t[0],t[1],t[2]),n=o(e[0],e[1],e[2]);A(r,r),A(n,n);var i=E(r,n);return i>1?0:i<-1?Math.PI:Math.acos(i)}function F(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function k(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Y(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(r-a)<=B.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=B.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=B.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=i,e.length=a,e.fromValues=o,e.copy=s,e.set=u,e.add=c,e.subtract=h,e.multiply=f,e.divide=l,e.ceil=d,e.floor=v,e.min=p,e.max=M,e.round=b,e.scale=m,e.scaleAndAdd=_,e.distance=x,e.squaredDistance=y,e.squaredLength=g,e.negate=w,e.inverse=O,e.normalize=A,e.dot=E,e.cross=P,e.lerp=S,e.hermite=R,e.bezier=q,e.random=I,e.transformMat4=T,e.transformMat3=j,e.transformQuat=L,e.rotateX=C,e.rotateY=N,e.rotateZ=D,e.angle=V,e.str=F,e.exactEquals=k,e.equals=Y;var U=r(2),B=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(U);e.sub=h,e.mul=f,e.div=l,e.dist=x,e.sqrDist=y,e.len=a,e.sqrLen=g,e.forEach=function(){var t=n();return function(e,r,n,i,a,o){var s=void 0,u=void 0;for(r||(r=3),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,r){"use strict";function n(){var t=new C.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function i(t){var e=new C.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e,r,n){var i=new C.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function u(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function h(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function f(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function l(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function d(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function v(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function p(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function M(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function b(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function m(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function _(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(r*r+n*n+i*i+a*a)}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a}function y(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.sqrt(e*e+r*r+n*n+i*i)}function g(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function O(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function A(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a*o),t}function E(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function P(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t[3]=s+n*(r[3]-s),t}function S(t,e){return e=e||1,t[0]=C.RANDOM(),t[1]=C.RANDOM(),t[2]=C.RANDOM(),t[3]=C.RANDOM(),A(t,t),b(t,t,e),t}function R(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t}function q(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2],c=r[3],h=c*n+s*a-u*i,f=c*i+u*n-o*a,l=c*a+o*i-s*n,d=-o*n-s*i-u*a;return t[0]=h*c+d*-o+f*-u-l*-s,t[1]=f*c+d*-s+l*-o-h*-u,t[2]=l*c+d*-u+h*-s-f*-o,t[3]=e[3],t}function I(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function T(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function j(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(r-o)<=C.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=C.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=C.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=C.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=i,e.fromValues=a,e.copy=o,e.set=s,e.add=u,e.subtract=c,e.multiply=h,e.divide=f,e.ceil=l,e.floor=d,e.min=v,e.max=p,e.round=M,e.scale=b,e.scaleAndAdd=m,e.distance=_,e.squaredDistance=x,e.length=y,e.squaredLength=g,e.negate=w,e.inverse=O,e.normalize=A,e.dot=E,e.lerp=P,e.random=S,e.transformMat4=R,e.transformQuat=q,e.str=I,e.exactEquals=T,e.equals=j;var L=r(2),C=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(L);e.sub=c,e.mul=h,e.div=f,e.dist=_,e.sqrDist=x,e.len=y,e.sqrLen=g,e.forEach=function(){var t=n();return function(e,r,n,i,a,o){var s=void 0,u=void 0;for(r||(r=4),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}()},function(t,e,r){"use strict";function n(t,e,r){void 0===r&&(r=!1),i=o.get();var n=i.createBuffer(),s=r?a.n:a.x,u=t===a.a?Float32Array:Uint16Array;return i.bindBuffer(t,n),i.bufferData(t,new u(e),s),i.bindBuffer(t,null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.createBuffer=n;var i,a=r(3),o=r(0)},function(t,e,r){"use strict";var n=r(1),i=(r.n(n),r(5)),a=0,o=n.vec3.create(),s=function(){function t(){this.children=[],this.localMatrix=n.mat4.create(),this.modelMatrix=n.mat4.create(),this.modelViewMatrix=n.mat4.create(),this.matrixAutoUpdate=!0,this.position=n.vec3.create(),this.rotation=n.vec3.create(),this.scale=n.vec3.fromValues(1,1,1),this.isObject3D=!0,this.quaternion=n.quat.create(),this.quaternionLookAt=n.quat.create(),this.lookAtUp=n.vec3.create()}return t.prototype.updateMatrix=function(t){n.mat4.identity(this.modelViewMatrix),this.matrixAutoUpdate&&(n.mat4.identity(this.localMatrix),n.mat4.identity(this.modelMatrix),n.quat.identity(this.quaternion),this.parent&&(n.mat4.copy(this.localMatrix,this.parent.modelMatrix),n.mat4.multiply(this.modelMatrix,this.modelMatrix,this.localMatrix)),n.quat.copy(this.quaternion,this.quaternionLookAt),n.mat4.translate(this.modelMatrix,this.modelMatrix,this.position),n.quat.rotateX(this.quaternion,this.quaternion,this.rotation[0]),n.quat.rotateY(this.quaternion,this.quaternion,this.rotation[1]),n.quat.rotateZ(this.quaternion,this.quaternion,this.rotation[2]),a=n.quat.getAxisAngle(o,this.quaternion),n.mat4.rotate(this.modelMatrix,this.modelMatrix,a,o),n.mat4.scale(this.modelMatrix,this.modelMatrix,this.scale)),t&&n.mat4.multiply(this.modelViewMatrix,t.worldInverseMatrix,this.modelMatrix)},t.prototype.lookAt=function(t){n.quat.identity(this.quaternionLookAt),this.quaternionLookAt=Object(i.lookAt)(this.position,t,this.lookAtUp)},t.prototype.setParent=function(t){this.unsetParent(),t.isObject3D&&(t.children.push(this),this.parent=t)},t.prototype.unsetParent=function(){if(void 0!==this.parent){var t=this.parent.children.indexOf(this);-1!==t&&(this.parent.children.splice(t,1),this.parent=void 0)}},t.prototype.dispose=function(){this.unsetParent(),this.children=[],delete this.localMatrix,delete this.modelMatrix,delete this.position,delete this.rotation,delete this.scale,delete this.quaternion,delete this.isObject3D},t}();e.a=s},function(t,e,r){"use strict";var n,i=r(4),a=r(0),o=function(){function t(){n=a.get(),i.extensions.vertexArrayObjectExtension&&(this.vertexArrayObject=i.extensions.vertexArrayObjectExtension.createVertexArrayOES())}return t.prototype.bind=function(){i.extensions.vertexArrayObjectExtension&&i.extensions.vertexArrayObjectExtension.bindVertexArrayOES(this.vertexArrayObject)},t.prototype.unbind=function(){i.extensions.vertexArrayObjectExtension&&i.extensions.vertexArrayObjectExtension.bindVertexArrayOES(null)},t.prototype.dispose=function(){i.extensions.vertexArrayObjectExtension&&i.extensions.vertexArrayObjectExtension.deleteVertexArrayOES(this.vertexArrayObject),delete this.vertexArrayObject},t}();e.a=o},function(t,e,r){"use strict";var n,i=r(34),a=r.n(i),o=r(0);e.a=function(){return n=o.get(),new a.a(n)}},function(t,e){!function(){function e(t){return t|(4096&t)>>>2|(2048&t)>>>2|(524288&t)>>>3|(1048576&t)>>>3|(2097152&t)>>>3}function r(t){return 0|Math.round(65535*t)}function n(t){return t/65535}function i(t){var e=(31744&t)>>10,r=1023&t;return(t>>15?-1:1)*(e?31===e?r?NaN:1/0:Math.pow(2,e-15)*(1+r/1024):r/1024*6103515625e-14)}function a(t){s[0]=t;var e=u[0],r=e>>31<<5,n=e>>23&255;return n=n-112&112-n>>4>>27,r=(r|n)<<10,r|=e>>13&1023}function o(){this._dat=new Uint16Array(51),this._set=0}var s=new Float32Array(1),u=new Uint32Array(s.buffer),c=[1,512,1024,1024,2048,4096,4096,4,8192,2,16384,32768,256,65536,65536,65536,262144,131072,131072,131072,524288,524288,524288,2097152,1048576,1048576,1048576,128,4194304,4194304,4194304,4194304,8,16,8388608,8388608,32,64,16777216,33554432,67108864,67108864,67108864,67108864,134217728,134217728,134217728,134217728,268435456,268435456,536870912],h=new Uint16Array([0,32774,0,1,0,0,0,0,513,0,1029,2305,0,519,0,65535,65535,7680,7680,7680,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,15,1,0,0,0,0,0,0,0,0,r(0),r(1),a(1)]),f=function(t,e){return t.getParameter(e)};o.DAT_MASKS=c,o.encodeHalf=function(t){return a(t)},o.decodeHalf=function(t){return i(t)},o.prototype={toDefault:function(){this._dat.set(h),this._set=935847839},clone:function(){var t=new o;return t._dat.set(this._dat),t._set=this._set,t},patch:function(t,r){for(var n,i=this._dat,a=this._set,o=t._dat,s=t._set,u=r._dat,h=0,f=0;51>f;f++)n=c[f],0!=(a&n)&&((0==(s&n)||i[f]!==o[f])&&(h|=n),o[f]=i[f]);u.set(o),t._set|=a,r._set=e(h)},setupGL:function(t){var e,r=this._set,a=this._dat;if(0!=(1&r)&&(a[0]?t.enable(3042):t.disable(3042)),e=2560&r,0!==e&&(2560===e?t.blendEquationSeparate(a[1],a[4]):t.blendEquation(a[1])),e=5120&r,0!==e&&(5120===e?t.blendFuncSeparate(a[3],a[2],a[6],a[5]):t.blendFunc(a[3],a[2])),0!=(4&r)&&(a[7]?t.enable(2929):t.disable(2929)),0!=(8192&r)&&t.depthFunc(a[8]),0!=(2&r)&&(a[9]?t.enable(2884):t.disable(2884)),0!=(16384&r)&&t.cullFace(a[10]),0!=(32768&r)&&t.frontFace(a[11]),0!=(536870912&r)&&t.lineWidth(i(a[50])),0!=(256&r)&&(a[12]?t.enable(2960):t.disable(2960)),e=589824&r,0!==e&&(589824===e?(t.stencilFuncSeparate(1028,a[13],a[14],a[15]),t.stencilFuncSeparate(1029,a[20],a[21],a[22])):t.stencilFunc(a[13],a[14],a[15])),e=1179648&r,0!==e&&(1179648===e?(t.stencilOpSeparate(1028,a[17],a[18],a[19]),t.stencilOpSeparate(1029,a[24],a[25],a[26])):t.stencilOp(a[17],a[18],a[19])),e=2359296&r,0!==e&&(2359296===e?(t.stencilMaskSeparate(1028,a[16]),t.stencilMaskSeparate(1029,a[23])):t.stencilMask(a[16])),0!=(16777216&r)){var o=a[38];t.colorMask(1==(1&o),2==(2&o),4==(4&o),8==(8&o))}0!=(33554432&r)&&t.depthMask(1===a[39]),0!=(67108864&r)&&t.blendColor(i(a[40]),i(a[41]),i(a[42]),i(a[43])),0!=(128&r)&&(a[27]?t.enable(3089):t.disable(3089)),0!=(4194304&r)&&t.scissor(a[28],a[29],a[30],a[31]),0!=(134217728&r)&&t.viewport(a[44],a[45],a[46],a[47]),0!=(16&r)&&(a[33]?t.enable(32823):t.disable(32823)),0!=(8388608&r)&&t.polygonOffset(i(a[34]),i(a[35])),0!=(268435456&r)&&t.depthRange(n(a[48]),n(a[49]))},fromGL:function(t){this._set=0;var e=f(t,3042),r=f(t,2884),n=f(t,2929),i=f(t,3024),a=f(t,32823),o=f(t,3089),s=f(t,2960),u=f(t,32969),c=f(t,32968),h=f(t,32971),l=f(t,32970),d=f(t,32777),v=f(t,34877),p=f(t,2962),M=f(t,2967),b=f(t,2963),m=f(t,2968),_=f(t,2964),x=f(t,2965),y=f(t,2966),g=f(t,34816),w=f(t,36003),O=f(t,36004),A=f(t,36005),E=f(t,34817),P=f(t,34818),S=f(t,34819),R=f(t,32824),q=f(t,10752),I=f(t,3088),T=f(t,3107),j=f(t,2930),L=f(t,32773),C=f(t,2978),N=f(t,2928),D=f(t,2849);this.enableBlend(e),u!==h||c!==l?this.blendFuncSeparate(u,c,h,l):this.blendFunc(u,c),d!==v?this.blendEquationSeparate(d,v):this.blendEquation(d),this.enableStencil(s),p!==g||M!==w||b!==O?this.stencilFuncSeparate(p,M,b,g,w,O):this.stencilFunc(p,M,b),_!==E||x!==P||y!==S?this.stencilOpSeparate(_,x,y,E,P,S):this.stencilOp(_,x,y),m!==A?this.stencilMaskSeparate(m,A):this.stencilMask(m),this.depthFunc(t.getParameter(2932)),this.enableDepthTest(n),this.cullFace(t.getParameter(2885)),this.enableCullface(r),this.frontFace(t.getParameter(2886)),this.enablePolygonOffset(a),this.polygonOffset(R,q),this.enableScissor(o),this.scissor(I[0],I[1],I[2],I[3]),this.enableDither(i),this.colorMask(T[0],T[1],T[2],T[3]),this.depthMask(j),this.blendColor(L[0],L[1],L[2],L[3]),this.viewport(C[0],C[1],C[2],C[3]),this.depthRange(N[0],N[1]),this.lineWidth(D)},enableBlend:function(t){return void 0===t&&(t=!0),this._dat[0]=0|t,this._set|=1,this},blendFunc:function(t,e){return this._dat[3]=t,this._dat[2]=e,this._set=-4097&this._set|1024,this},blendFuncSeparate:function(t,e,r,n){return this._dat[3]=t,this._dat[2]=e,this._dat[6]=r,this._dat[5]=n,this._set|=5120,this},blendEquation:function(t){return this._dat[1]=t,this._set=-2049&this._set|512,this},blendEquationSeparate:function(t,e){return this._dat[1]=t,this._dat[4]=e,this._set|=2560,this},blendColor:function(t,e,r,n){return this._dat[40]=a(t),this._dat[41]=a(e),this._dat[42]=a(r),this._dat[43]=a(n),this._set|=67108864,this},depthFunc:function(t){return this._dat[8]=t,this._set|=8192,this},enableDepthTest:function(t){return void 0===t&&(t=!0),this._dat[7]=0|t,this._set|=4,this},depthRange:function(t,e){return this._dat[48]=r(t),this._dat[49]=r(e),this._set|=268435456,this},lineWidth:function(t){return this._dat[50]=a(t),this._set|=536870912,this},cullFace:function(t){return this._dat[10]=t,this._set|=16384,this},enableCullface:function(t){return void 0===t&&(t=!0),this._dat[9]=0|t,this._set|=2,this},polygonOffset:function(t,e){return this._dat[34]=a(t),this._dat[35]=a(e),this._set|=8388608,this},enablePolygonOffset:function(t){return void 0===t&&(t=!0),this._dat[33]=0|t,this._set|=16,this},enableScissor:function(t){return void 0===t&&(t=!0),this._dat[27]=0|t,this._set|=128,this},scissor:function(t,e,r,n){return this._dat[28]=t,this._dat[29]=e,this._dat[30]=r,this._dat[31]=n,this._set|=4194304,this},viewport:function(t,e,r,n){return this._dat[44]=t,this._dat[45]=e,this._dat[46]=r,this._dat[47]=n,this._set|=134217728,this},enableDither:function(t){return void 0===t&&(t=!0),this._dat[32]=0|t,this._set|=8,this},depthMask:function(t){return this._dat[39]=0|t,this._set|=33554432,this},colorMask:function(t,e,r,n){var i=0|t|(0|e)<<1|(0|r)<<2|(0|n)<<3;return this._dat[38]=i,this._set|=16777216,this},frontFace:function(t){return this._dat[11]=t,this._set|=32768,this},enableStencil:function(t){return void 0===t&&(t=!0),this._dat[12]=0|t,this._set|=256,this},stencilFunc:function(t,e,r){return this._dat[13]=t,this._dat[14]=e,this._dat[15]=r,this._set=-524289&this._set|65536,this},stencilOp:function(t,e,r){return this._dat[17]=t,this._dat[18]=e,this._dat[19]=r,this._set=-1048577&this._set|131072,this},stencilMask:function(t){return this._dat[16]=t,this._set=-2097153&this._set|262144,this},stencilFuncSeparate:function(t,e,r,n,i,a){var o=this._dat;return o[13]=t,o[14]=e,o[15]=r,o[20]=n,o[21]=i,o[22]=a,this._set|=589824,this},stencilOpSeparate:function(t,e,r,n,i,a){var o=this._dat;return o[17]=t,o[18]=e,o[19]=r,o[24]=n,o[25]=i,o[26]=a,this._set|=1179648,this},stencilMaskSeparate:function(t,e){return this._dat[16]=t,this._dat[23]=e,this._set|=2359296,this}},t.exports=o}()},function(t,e,r){"use strict";e.a=function(){try{var t=WebGLRenderingContext,e=document.createElement("canvas"),r=e.getContext("webgl")||e.getContext("experimental-webgl");return void 0!==t&&{webgl:!!r}}catch(t){return!1}}},function(t,e,r){"use strict";function n(t,e){void 0===t&&(t=1),void 0===e&&(e=1);var r=document.createElement("canvas"),n=r.getContext("2d");return r.width=t,r.height=e,{canvas:r,context:n}}e.a=n},function(t,e,r){"use strict";var n,i=r(0),a=r(12),o=function(){function t(t,e,r,o){void 0===o&&(o=!0),this.type=t,this.itemSize=r,this.numItems=e.length/r,this.buffer=Object(a.createBuffer)(t,e),this.shaderAttribute=o,n=i.get()}return t.prototype.bind=function(){n.bindBuffer(this.type,this.buffer)},t.prototype.unbind=function(){n.bindBuffer(this.type,null)},t.prototype.update=function(t){this.bind(),n.bufferSubData(this.type,0,t),this.unbind()},t.prototype.dispose=function(){n.deleteBuffer(this.buffer),delete this.buffer},t}();e.a=o},function(t,e,r){"use strict";var n=r(1),i=(r.n(n),n.vec3.create()),a=n.vec3.create(),o=function(){function t(t,e,r,i,a,o){this.indices=[t,e,r],this.vertices=[i,a,o],this.uvs=[t,e,r],this.normal=n.vec3.create(),this.updateFaceNormal()}return t.prototype.updateFaceNormal=function(){n.vec3.set(i,0,0,0),n.vec3.set(a,0,0,0),n.vec3.subtract(i,this.vertices[2],this.vertices[1]),n.vec3.subtract(a,this.vertices[0],this.vertices[1]),n.vec3.cross(i,i,a),n.vec3.normalize(i,i),n.vec3.set(this.normal,i[0],i[1],i[2])},t}();e.a=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);r.n(n);r.o(n,"glMatrix")&&r.d(e,"Common",function(){return n.glMatrix}),r.o(n,"mat2")&&r.d(e,"Mat2",function(){return n.mat2}),r.o(n,"mat2d")&&r.d(e,"Mat2d",function(){return n.mat2d}),r.o(n,"mat3")&&r.d(e,"Mat3",function(){return n.mat3}),r.o(n,"mat4")&&r.d(e,"Mat4",function(){return n.mat4}),r.o(n,"quat")&&r.d(e,"Quat",function(){return n.quat}),r.o(n,"vec2")&&r.d(e,"Vec2",function(){return n.vec2}),r.o(n,"vec3")&&r.d(e,"Vec3",function(){return n.vec3}),r.o(n,"vec4")&&r.d(e,"Vec4",function(){return n.vec4});var i=r(6);r.d(e,"Camera",function(){return i.a});var a=r(27);r.d(e,"OrthographicCamera",function(){return a.a});var o=r(28);r.d(e,"PerspectiveCamera",function(){return o.a});var s=r(4);r.d(e,"Capabilities",function(){return s});var u=r(0);r.d(e,"Context",function(){return u});var c=r(7);r.d(e,"CoreConstants",function(){return c});var h=r(12);r.d(e,"CoreUtilities",function(){return h});var f=r(29);r.d(e,"Material",function(){return f.a});var l=r(32);r.d(e,"Mesh",function(){return l.a});var d=r(13);r.d(e,"Object3D",function(){return d.a});var v=r(33);r.d(e,"Renderer",function(){return v.a});var p=r(36);r.d(e,"RenderTarget",function(){return p.a});var M=r(37);r.d(e,"Scene",function(){return M.a});var b=r(15);r.d(e,"State",function(){return b.a});var m=r(38);r.d(e,"Texture2D",function(){return m.a});var _=r(39);r.d(e,"TextureCube",function(){return _.a});var x=r(14);r.d(e,"VertexArrayObject",function(){return x.a});var y=r(19);r.d(e,"BufferAttribute",function(){return y.a});var g=r(20);r.d(e,"Face",function(){return g.a});var w=r(40);r.d(e,"Geometry",function(){return w.a});var O=r(41);r.d(e,"FileLoader",function(){return O.a});var A=r(8);r.d(e,"ImageLoader",function(){return A.a});var E=r(5);r.d(e,"MathUtilities",function(){return E});var P=r(17);r.d(e,"WebGLSupport",function(){return P.a})},function(t,e,r){"use strict";function n(){var t=new S.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function i(t){var e=new S.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,e,r,n){var i=new S.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function u(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function c(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function h(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*a-i*n;return o?(o=1/o,t[0]=a*o,t[1]=-n*o,t[2]=-i*o,t[3]=r*o,t):null}function f(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function l(t){return t[0]*t[3]-t[2]*t[1]}function d(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],c=r[2],h=r[3];return t[0]=n*s+a*u,t[1]=i*s+o*u,t[2]=n*c+a*h,t[3]=i*c+o*h,t}function v(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=i*u+o*s,t[2]=n*-s+a*u,t[3]=i*-s+o*u,t}function p(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1];return t[0]=n*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t}function M(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function b(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function m(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function _(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function x(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function y(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function g(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function w(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function O(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(r-o)<=S.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=S.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=S.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=S.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))}function A(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function E(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.clone=i,e.copy=a,e.identity=o,e.fromValues=s,e.set=u,e.transpose=c,e.invert=h,e.adjoint=f,e.determinant=l,e.multiply=d,e.rotate=v,e.scale=p,e.fromRotation=M,e.fromScaling=b,e.str=m,e.frob=_,e.LDU=x,e.add=y,e.subtract=g,e.exactEquals=w,e.equals=O,e.multiplyScalar=A,e.multiplyScalarAndAdd=E;var P=r(2),S=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(P);e.mul=d,e.sub=g},function(t,e,r){"use strict";function n(){var t=new P.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function i(t){var e=new P.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(t,e,r,n,i,a){var o=new P.ARRAY_TYPE(6);return o[0]=t,o[1]=e,o[2]=r,o[3]=n,o[4]=i,o[5]=a,o}function u(t,e,r,n,i,a,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t}function c(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=r*a-n*i;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-i*u,t[3]=r*u,t[4]=(i*s-a*o)*u,t[5]=(n*o-r*s)*u,t):null}function h(t){return t[0]*t[3]-t[1]*t[2]}function f(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=r[0],h=r[1],f=r[2],l=r[3],d=r[4],v=r[5];return t[0]=n*c+a*h,t[1]=i*c+o*h,t[2]=n*f+a*l,t[3]=i*f+o*l,t[4]=n*d+a*v+s,t[5]=i*d+o*v+u,t}function l(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=Math.sin(r),h=Math.cos(r);return t[0]=n*h+a*c,t[1]=i*h+o*c,t[2]=n*-c+a*h,t[3]=i*-c+o*h,t[4]=s,t[5]=u,t}function d(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=r[0],h=r[1];return t[0]=n*c,t[1]=i*c,t[2]=a*h,t[3]=o*h,t[4]=s,t[5]=u,t}function v(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=r[0],h=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=n*c+a*h+s,t[5]=i*c+o*h+u,t}function p(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function M(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function m(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function _(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function x(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function y(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function g(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function w(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function O(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function A(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=e[0],c=e[1],h=e[2],f=e[3],l=e[4],d=e[5];return Math.abs(r-u)<=P.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=P.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-h)<=P.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-f)<=P.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-l)<=P.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(s-d)<=P.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.clone=i,e.copy=a,e.identity=o,e.fromValues=s,e.set=u,e.invert=c,e.determinant=h,e.multiply=f,e.rotate=l,e.scale=d,e.translate=v,e.fromRotation=p,e.fromScaling=M,e.fromTranslation=b,e.str=m,e.frob=_,e.add=x,e.subtract=y,e.multiplyScalar=g,e.multiplyScalarAndAdd=w,e.exactEquals=O,e.equals=A;var E=r(2),P=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(E);e.mul=f,e.sub=y},function(t,e,r){"use strict";function n(){var t=new W.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i(t){var e=new W.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(t,e,r,n,i,a,o,s,u,c,h,f,l,d,v,p){var M=new W.ARRAY_TYPE(16);return M[0]=t,M[1]=e,M[2]=r,M[3]=n,M[4]=i,M[5]=a,M[6]=o,M[7]=s,M[8]=u,M[9]=c,M[10]=h,M[11]=f,M[12]=l,M[13]=d,M[14]=v,M[15]=p,M}function s(t,e,r,n,i,a,o,s,u,c,h,f,l,d,v,p,M){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t[9]=h,t[10]=f,t[11]=l,t[12]=d,t[13]=v,t[14]=p,t[15]=M,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function h(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],d=e[11],v=e[12],p=e[13],M=e[14],b=e[15],m=r*s-n*o,_=r*u-i*o,x=r*c-a*o,y=n*u-i*s,g=n*c-a*s,w=i*c-a*u,O=h*p-f*v,A=h*M-l*v,E=h*b-d*v,P=f*M-l*p,S=f*b-d*p,R=l*b-d*M,q=m*R-_*S+x*P+y*E-g*A+w*O;return q?(q=1/q,t[0]=(s*R-u*S+c*P)*q,t[1]=(i*S-n*R-a*P)*q,t[2]=(p*w-M*g+b*y)*q,t[3]=(l*g-f*w-d*y)*q,t[4]=(u*E-o*R-c*A)*q,t[5]=(r*R-i*E+a*A)*q,t[6]=(M*x-v*w-b*_)*q,t[7]=(h*w-l*x+d*_)*q,t[8]=(o*S-s*E+c*O)*q,t[9]=(n*E-r*S-a*O)*q,t[10]=(v*g-p*x+b*m)*q,t[11]=(f*x-h*g-d*m)*q,t[12]=(s*A-o*P-u*O)*q,t[13]=(r*P-n*A+i*O)*q,t[14]=(p*_-v*y-M*m)*q,t[15]=(h*y-f*_+l*m)*q,t):null}function f(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],d=e[11],v=e[12],p=e[13],M=e[14],b=e[15];return t[0]=s*(l*b-d*M)-f*(u*b-c*M)+p*(u*d-c*l),t[1]=-(n*(l*b-d*M)-f*(i*b-a*M)+p*(i*d-a*l)),t[2]=n*(u*b-c*M)-s*(i*b-a*M)+p*(i*c-a*u),t[3]=-(n*(u*d-c*l)-s*(i*d-a*l)+f*(i*c-a*u)),t[4]=-(o*(l*b-d*M)-h*(u*b-c*M)+v*(u*d-c*l)),t[5]=r*(l*b-d*M)-h*(i*b-a*M)+v*(i*d-a*l),t[6]=-(r*(u*b-c*M)-o*(i*b-a*M)+v*(i*c-a*u)),t[7]=r*(u*d-c*l)-o*(i*d-a*l)+h*(i*c-a*u),t[8]=o*(f*b-d*p)-h*(s*b-c*p)+v*(s*d-c*f),t[9]=-(r*(f*b-d*p)-h*(n*b-a*p)+v*(n*d-a*f)),t[10]=r*(s*b-c*p)-o*(n*b-a*p)+v*(n*c-a*s),t[11]=-(r*(s*d-c*f)-o*(n*d-a*f)+h*(n*c-a*s)),t[12]=-(o*(f*M-l*p)-h*(s*M-u*p)+v*(s*l-u*f)),t[13]=r*(f*M-l*p)-h*(n*M-i*p)+v*(n*l-i*f),t[14]=-(r*(s*M-u*p)-o*(n*M-i*p)+v*(n*u-i*s)),t[15]=r*(s*l-u*f)-o*(n*l-i*f)+h*(n*u-i*s),t}function l(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],c=t[8],h=t[9],f=t[10],l=t[11],d=t[12],v=t[13],p=t[14],M=t[15];return(e*o-r*a)*(f*M-l*p)-(e*s-n*a)*(h*M-l*v)+(e*u-i*a)*(h*p-f*v)+(r*s-n*o)*(c*M-l*d)-(r*u-i*o)*(c*p-f*d)+(n*u-i*s)*(c*v-h*d)}function d(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=e[9],d=e[10],v=e[11],p=e[12],M=e[13],b=e[14],m=e[15],_=r[0],x=r[1],y=r[2],g=r[3];return t[0]=_*n+x*s+y*f+g*p,t[1]=_*i+x*u+y*l+g*M,t[2]=_*a+x*c+y*d+g*b,t[3]=_*o+x*h+y*v+g*m,_=r[4],x=r[5],y=r[6],g=r[7],t[4]=_*n+x*s+y*f+g*p,t[5]=_*i+x*u+y*l+g*M,t[6]=_*a+x*c+y*d+g*b,t[7]=_*o+x*h+y*v+g*m,_=r[8],x=r[9],y=r[10],g=r[11],t[8]=_*n+x*s+y*f+g*p,t[9]=_*i+x*u+y*l+g*M,t[10]=_*a+x*c+y*d+g*b,t[11]=_*o+x*h+y*v+g*m,_=r[12],x=r[13],y=r[14],g=r[15],t[12]=_*n+x*s+y*f+g*p,t[13]=_*i+x*u+y*l+g*M,t[14]=_*a+x*c+y*d+g*b,t[15]=_*o+x*h+y*v+g*m,t}function v(t,e,r){var n=r[0],i=r[1],a=r[2],o=void 0,s=void 0,u=void 0,c=void 0,h=void 0,f=void 0,l=void 0,d=void 0,v=void 0,p=void 0,M=void 0,b=void 0;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*a+e[12],t[13]=e[1]*n+e[5]*i+e[9]*a+e[13],t[14]=e[2]*n+e[6]*i+e[10]*a+e[14],t[15]=e[3]*n+e[7]*i+e[11]*a+e[15]):(o=e[0],s=e[1],u=e[2],c=e[3],h=e[4],f=e[5],l=e[6],d=e[7],v=e[8],p=e[9],M=e[10],b=e[11],t[0]=o,t[1]=s,t[2]=u,t[3]=c,t[4]=h,t[5]=f,t[6]=l,t[7]=d,t[8]=v,t[9]=p,t[10]=M,t[11]=b,t[12]=o*n+h*i+v*a+e[12],t[13]=s*n+f*i+p*a+e[13],t[14]=u*n+l*i+M*a+e[14],t[15]=c*n+d*i+b*a+e[15]),t}function p(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function M(t,e,r,n){var i=n[0],a=n[1],o=n[2],s=Math.sqrt(i*i+a*a+o*o),u=void 0,c=void 0,h=void 0,f=void 0,l=void 0,d=void 0,v=void 0,p=void 0,M=void 0,b=void 0,m=void 0,_=void 0,x=void 0,y=void 0,g=void 0,w=void 0,O=void 0,A=void 0,E=void 0,P=void 0,S=void 0,R=void 0,q=void 0,I=void 0;return Math.abs(s)<W.EPSILON?null:(s=1/s,i*=s,a*=s,o*=s,u=Math.sin(r),c=Math.cos(r),h=1-c,f=e[0],l=e[1],d=e[2],v=e[3],p=e[4],M=e[5],b=e[6],m=e[7],_=e[8],x=e[9],y=e[10],g=e[11],w=i*i*h+c,O=a*i*h+o*u,A=o*i*h-a*u,E=i*a*h-o*u,P=a*a*h+c,S=o*a*h+i*u,R=i*o*h+a*u,q=a*o*h-i*u,I=o*o*h+c,t[0]=f*w+p*O+_*A,t[1]=l*w+M*O+x*A,t[2]=d*w+b*O+y*A,t[3]=v*w+m*O+g*A,t[4]=f*E+p*P+_*S,t[5]=l*E+M*P+x*S,t[6]=d*E+b*P+y*S,t[7]=v*E+m*P+g*S,t[8]=f*R+p*q+_*I,t[9]=l*R+M*q+x*I,t[10]=d*R+b*q+y*I,t[11]=v*R+m*q+g*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function b(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],u=e[7],c=e[8],h=e[9],f=e[10],l=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*n,t[5]=o*i+h*n,t[6]=s*i+f*n,t[7]=u*i+l*n,t[8]=c*i-a*n,t[9]=h*i-o*n,t[10]=f*i-s*n,t[11]=l*i-u*n,t}function m(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],c=e[8],h=e[9],f=e[10],l=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*n,t[1]=o*i-h*n,t[2]=s*i-f*n,t[3]=u*i-l*n,t[8]=a*n+c*i,t[9]=o*n+h*i,t[10]=s*n+f*i,t[11]=u*n+l*i,t}function _(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],c=e[4],h=e[5],f=e[6],l=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*n,t[1]=o*i+h*n,t[2]=s*i+f*n,t[3]=u*i+l*n,t[4]=c*i-a*n,t[5]=h*i-o*n,t[6]=f*i-s*n,t[7]=l*i-u*n,t}function x(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function y(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function g(t,e,r){var n=r[0],i=r[1],a=r[2],o=Math.sqrt(n*n+i*i+a*a),s=void 0,u=void 0,c=void 0;return Math.abs(o)<W.EPSILON?null:(o=1/o,n*=o,i*=o,a*=o,s=Math.sin(e),u=Math.cos(e),c=1-u,t[0]=n*n*c+u,t[1]=i*n*c+a*s,t[2]=a*n*c-i*s,t[3]=0,t[4]=n*i*c-a*s,t[5]=i*i*c+u,t[6]=a*i*c+n*s,t[7]=0,t[8]=n*a*c+i*s,t[9]=i*a*c-n*s,t[10]=a*a*c+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function w(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=n+n,u=i+i,c=a+a,h=n*s,f=n*u,l=n*c,d=i*u,v=i*c,p=a*c,M=o*s,b=o*u,m=o*c;return t[0]=1-(d+p),t[1]=f+m,t[2]=l-b,t[3]=0,t[4]=f-m,t[5]=1-(h+p),t[6]=v+M,t[7]=0,t[8]=l+b,t[9]=v-M,t[10]=1-(h+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function P(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function S(t,e){var r=e[0],n=e[1],i=e[2],a=e[4],o=e[5],s=e[6],u=e[8],c=e[9],h=e[10];return t[0]=Math.sqrt(r*r+n*n+i*i),t[1]=Math.sqrt(a*a+o*o+s*s),t[2]=Math.sqrt(u*u+c*c+h*h),t}function R(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t}function q(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3],u=i+i,c=a+a,h=o+o,f=i*u,l=i*c,d=i*h,v=a*c,p=a*h,M=o*h,b=s*u,m=s*c,_=s*h,x=n[0],y=n[1],g=n[2];return t[0]=(1-(v+M))*x,t[1]=(l+_)*x,t[2]=(d-m)*x,t[3]=0,t[4]=(l-_)*y,t[5]=(1-(f+M))*y,t[6]=(p+b)*y,t[7]=0,t[8]=(d+m)*g,t[9]=(p-b)*g,t[10]=(1-(f+v))*g,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function I(t,e,r,n,i){var a=e[0],o=e[1],s=e[2],u=e[3],c=a+a,h=o+o,f=s+s,l=a*c,d=a*h,v=a*f,p=o*h,M=o*f,b=s*f,m=u*c,_=u*h,x=u*f,y=n[0],g=n[1],w=n[2],O=i[0],A=i[1],E=i[2];return t[0]=(1-(p+b))*y,t[1]=(d+x)*y,t[2]=(v-_)*y,t[3]=0,t[4]=(d-x)*g,t[5]=(1-(l+b))*g,t[6]=(M+m)*g,t[7]=0,t[8]=(v+_)*w,t[9]=(M-m)*w,t[10]=(1-(l+p))*w,t[11]=0,t[12]=r[0]+O-(t[0]*O+t[4]*A+t[8]*E),t[13]=r[1]+A-(t[1]*O+t[5]*A+t[9]*E),t[14]=r[2]+E-(t[2]*O+t[6]*A+t[10]*E),t[15]=1,t}function T(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,u=i+i,c=r*o,h=n*o,f=n*s,l=i*o,d=i*s,v=i*u,p=a*o,M=a*s,b=a*u;return t[0]=1-f-v,t[1]=h+b,t[2]=l-M,t[3]=0,t[4]=h-b,t[5]=1-c-v,t[6]=d+p,t[7]=0,t[8]=l+M,t[9]=d-p,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function j(t,e,r,n,i,a,o){var s=1/(r-e),u=1/(i-n),c=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*u,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function L(t,e,r,n,i){var a=1/Math.tan(e/2),o=1/(n-i);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*o,t[15]=0,t}function C(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(i-a)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function N(t,e,r,n,i,a,o){var s=1/(e-r),u=1/(n-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=(o+a)*c,t[15]=1,t}function D(t,e,r,n){var i=void 0,a=void 0,o=void 0,s=void 0,u=void 0,c=void 0,h=void 0,f=void 0,l=void 0,d=void 0,v=e[0],p=e[1],M=e[2],b=n[0],m=n[1],_=n[2],x=r[0],y=r[1],g=r[2];return Math.abs(v-x)<W.EPSILON&&Math.abs(p-y)<W.EPSILON&&Math.abs(M-g)<W.EPSILON?mat4.identity(t):(h=v-x,f=p-y,l=M-g,d=1/Math.sqrt(h*h+f*f+l*l),h*=d,f*=d,l*=d,i=m*l-_*f,a=_*h-b*l,o=b*f-m*h,d=Math.sqrt(i*i+a*a+o*o),d?(d=1/d,i*=d,a*=d,o*=d):(i=0,a=0,o=0),s=f*o-l*a,u=l*i-h*o,c=h*a-f*i,d=Math.sqrt(s*s+u*u+c*c),d?(d=1/d,s*=d,u*=d,c*=d):(s=0,u=0,c=0),t[0]=i,t[1]=s,t[2]=h,t[3]=0,t[4]=a,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=l,t[11]=0,t[12]=-(i*v+a*p+o*M),t[13]=-(s*v+u*p+c*M),t[14]=-(h*v+f*p+l*M),t[15]=1,t)}function V(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=n[0],u=n[1],c=n[2],h=i-r[0],f=a-r[1],l=o-r[2],d=h*h+f*f+l*l;d>0&&(d=1/Math.sqrt(d),h*=d,f*=d,l*=d);var v=u*l-c*f,p=c*h-s*l,M=s*f-u*h;return t[0]=v,t[1]=p,t[2]=M,t[3]=0,t[4]=f*M-l*p,t[5]=l*v-h*M,t[6]=h*p-f*v,t[7]=0,t[8]=h,t[9]=f,t[10]=l,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function F(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function k(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Y(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function U(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function B(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function z(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function H(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function X(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],h=t[8],f=t[9],l=t[10],d=t[11],v=t[12],p=t[13],M=t[14],b=t[15],m=e[0],_=e[1],x=e[2],y=e[3],g=e[4],w=e[5],O=e[6],A=e[7],E=e[8],P=e[9],S=e[10],R=e[11],q=e[12],I=e[13],T=e[14],j=e[15];return Math.abs(r-m)<=W.EPSILON*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(n-_)<=W.EPSILON*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-x)<=W.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-y)<=W.EPSILON*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(o-g)<=W.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-w)<=W.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-O)<=W.EPSILON*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(c-A)<=W.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(h-E)<=W.EPSILON*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(f-P)<=W.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(l-S)<=W.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(d-R)<=W.EPSILON*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(v-q)<=W.EPSILON*Math.max(1,Math.abs(v),Math.abs(q))&&Math.abs(p-I)<=W.EPSILON*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(M-T)<=W.EPSILON*Math.max(1,Math.abs(M),Math.abs(T))&&Math.abs(b-j)<=W.EPSILON*Math.max(1,Math.abs(b),Math.abs(j))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.clone=i,e.copy=a,e.fromValues=o,e.set=s,e.identity=u,e.transpose=c,e.invert=h,e.adjoint=f,e.determinant=l,e.multiply=d,e.translate=v,e.scale=p,e.rotate=M,e.rotateX=b,e.rotateY=m,e.rotateZ=_,e.fromTranslation=x,e.fromScaling=y,e.fromRotation=g,e.fromXRotation=w,e.fromYRotation=O,e.fromZRotation=A,e.fromRotationTranslation=E,e.getTranslation=P,e.getScaling=S,e.getRotation=R,e.fromRotationTranslationScale=q,e.fromRotationTranslationScaleOrigin=I,e.fromQuat=T,e.frustum=j,e.perspective=L,e.perspectiveFromFieldOfView=C,e.ortho=N,e.lookAt=D,e.targetTo=V,e.str=F,e.frob=k,e.add=Y,e.subtract=U,e.multiplyScalar=B,e.multiplyScalarAndAdd=z,e.exactEquals=H,e.equals=X;var G=r(2),W=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(G);e.mul=d,e.sub=U},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(){var t=new x.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function a(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function o(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function s(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return 0!=n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function u(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],c=r[2],h=r[3];return t[0]=n*h+o*s+i*c-a*u,t[1]=i*h+o*u+a*s-n*c,t[2]=a*h+o*c+n*u-i*s,t[3]=o*h-n*s-i*u-a*c,t}function c(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-n*s,t}function h(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u-a*s,t[1]=i*u+o*s,t[2]=a*u+n*s,t[3]=o*u-i*s,t}function f(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=i*u-n*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t}function l(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t}function d(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3],u=r[0],c=r[1],h=r[2],f=r[3],l=void 0,d=void 0,v=void 0,p=void 0,M=void 0;return d=i*u+a*c+o*h+s*f,d<0&&(d=-d,u=-u,c=-c,h=-h,f=-f),1-d>1e-6?(l=Math.acos(d),v=Math.sin(l),p=Math.sin((1-n)*l)/v,M=Math.sin(n*l)/v):(p=1-n,M=n),t[0]=p*i+M*u,t[1]=p*a+M*c,t[2]=p*o+M*h,t[3]=p*s+M*f,t}function v(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a,s=o?1/o:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-i*s,t[3]=a*s,t}function p(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function M(t,e){var r=e[0]+e[4]+e[8],n=void 0;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t}function b(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(r),u=Math.cos(r),c=Math.sin(n),h=Math.cos(n);return t[0]=a*u*h-o*s*c,t[1]=o*s*h+a*u*c,t[2]=o*u*c-a*s*h,t[3]=o*u*h+a*s*c,t}function m(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=i,e.identity=a,e.setAxisAngle=o,e.getAxisAngle=s,e.multiply=u,e.rotateX=c,e.rotateY=h,e.rotateZ=f,e.calculateW=l,e.slerp=d,e.invert=v,e.conjugate=p,e.fromMat3=M,e.fromEuler=b,e.str=m;var _=r(2),x=n(_),y=r(9),g=n(y),w=r(10),O=n(w),A=r(11),E=n(A),P=(e.clone=E.clone,e.fromValues=E.fromValues,e.copy=E.copy,e.set=E.set,e.add=E.add,e.mul=u,e.scale=E.scale,e.dot=E.dot,e.lerp=E.lerp,e.length=E.length),S=(e.len=P,e.squaredLength=E.squaredLength),R=(e.sqrLen=S,e.normalize=E.normalize);e.exactEquals=E.exactEquals,e.equals=E.equals,e.rotationTo=function(){var t=O.create(),e=O.fromValues(1,0,0),r=O.fromValues(0,1,0);return function(n,i,a){var s=O.dot(i,a);return s<-.999999?(O.cross(t,e,i),O.len(t)<1e-6&&O.cross(t,r,i),O.normalize(t,t),o(n,t,Math.PI),n):s>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(O.cross(t,i,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+s,R(n,n))}}(),e.sqlerp=function(){var t=i(),e=i();return function(r,n,i,a,o,s){return d(t,n,o,s),d(e,i,a,s),d(r,t,e,2*s*(1-s)),r}}(),e.setAxes=function(){var t=g.create();return function(e,r,n,i){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],R(e,M(e,t))}}()},function(t,e,r){"use strict";function n(){var t=new V.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function i(t){var e=new V.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var r=new V.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r}function o(t,e){return t[0]=e[0],t[1]=e[1],t}function s(t,e,r){return t[0]=e,t[1]=r,t}function u(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function h(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function f(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function l(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function d(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function v(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function p(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function M(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function b(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function m(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function _(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function y(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function g(t){var e=t[0],r=t[1];return e*e+r*r}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t}function O(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function A(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}function E(t,e){return t[0]*e[0]+t[1]*e[1]}function P(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function S(t,e,r,n){var i=e[0],a=e[1];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t}function R(t,e){e=e||1;var r=2*V.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function q(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function I(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function T(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function j(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function L(t){return"vec2("+t[0]+", "+t[1]+")"}function C(t,e){return t[0]===e[0]&&t[1]===e[1]}function N(t,e){var r=t[0],n=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=V.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=V.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=n,e.clone=i,e.fromValues=a,e.copy=o,e.set=s,e.add=u,e.subtract=c,e.multiply=h,e.divide=f,e.ceil=l,e.floor=d,e.min=v,e.max=p,e.round=M,e.scale=b,e.scaleAndAdd=m,e.distance=_,e.squaredDistance=x,e.length=y,e.squaredLength=g,e.negate=w,e.inverse=O,e.normalize=A,e.dot=E,e.cross=P,e.lerp=S,e.random=R,e.transformMat2=q,e.transformMat2d=I,e.transformMat3=T,e.transformMat4=j,e.str=L,e.exactEquals=C,e.equals=N;var D=r(2),V=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(D);e.len=y,e.sub=c,e.mul=h,e.div=f,e.dist=_,e.sqrDist=x,e.sqrLen=g,e.forEach=function(){var t=n();return function(e,r,n,i,a,o){var s=void 0,u=void 0;for(r||(r=2),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()},function(t,e,r){"use strict";var n=r(1),i=(r.n(n),r(6)),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,e)||this;return r.left=e.left||-1,r.right=e.right||1,r.bottom=e.bottom||-1,r.top=e.top||1,r}return a(e,t),e.prototype.updateProjectionMatrix=function(){n.mat4.ortho(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far)},e}(i.a);e.a=o},function(t,e,r){"use strict";var n=r(1),i=(r.n(n),r(6)),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.updateProjectionMatrix=function(){n.mat4.perspective(this.projectionMatrix,n.glMatrix.toRadian(this.fieldOfView),this.aspectRatio,this.near,this.far)},e}(i.a);e.a=o},function(t,e,r){"use strict";var n,i=r(1),a=(r.n(i),r(3)),o=r(0),s=r(30),u=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},c=i.mat3.create(),h=i.mat4.create(),f=function(){function t(t){void 0===t&&(t={}),n=o.get(),this.type="",this.uniforms={},this.name="",this.vertexShader="",this.fragmentShader="",this.drawType=a._16,this.culling=-1,Object.assign(this,t),this.program=new s.a}return t.prototype.create=function(t){var e=this;this.vertexShader=this.processShader(this.vertexShader,t),this.fragmentShader=this.processShader(this.fragmentShader,t),this.program.link(this.vertexShader,this.fragmentShader),this.customUniforms=this.uniforms||{};var r=[a.y,a.z,a.K,a.V,a.Y,a.Z,a._0,a._1,a._2,a._3,a.A,a.B,a.C,a.D,a.E,a.F,a.G,a.H,a.I,a.J,a.L,a.M,a.N,a.O,a.P,a.Q,a.R,a.S,a.T,a.U,a.W,a.X];Object.keys(this.uniforms).forEach(function(t,n){switch(e.uniforms[t].type){case"t":case"tc":e.uniforms[t].textureIndex=n,e.uniforms[t].activeTexture=r[n]}}),this.uniforms=u({uProjectionMatrix:{location:null,type:"4fv",value:i.mat4.create()},uModelMatrix:{location:null,type:"4fv",value:i.mat4.create()},uModelViewMatrix:{location:null,type:"4fv",value:i.mat4.create()},uNormalMatrix:{location:null,type:"4fv",value:i.mat4.create()}},this.customUniforms),Object.keys(this.uniforms).forEach(function(t){e.program.setUniformLocation(e.uniforms,t)})},t.prototype.processShader=function(t,e){function r(t){n+="#define "+t+" \n"}var n="";return this.name&&r("SHADER_NAME "+this.name),e.bufferNormals&&r("HAS_VERTEX_NORMALS"),e.bufferColors&&r("HAS_VERTEX_COLORS"),e.bufferUvs&&r("HAS_TEXTURE_COORDS"),"\n            "+n+"\n            "+t+"\n        "},t.prototype.setUniforms=function(t,e,r,o){var s=this;Object.keys(this.customUniforms).forEach(function(t){var e=s.uniforms[t];switch(e.type){case"t":n.uniform1i(e.location,e.textureIndex),n.activeTexture(e.activeTexture),n.bindTexture(a._4,e.value);break;case"tc":n.uniform1i(e.location,e.textureIndex),n.activeTexture(e.activeTexture),n.bindTexture(a._5,e.value);break;case"i":n.uniform1i(e.location,e.value);break;case"f":n.uniform1f(e.location,e.value);break;case"2f":n.uniform2f(e.location,e.value[0],e.value[1]);break;case"3f":n.uniform3f(e.location,e.value[0],e.value[1],e.value[2]);break;case"4f":n.uniform4f(e.location,e.value[0],e.value[1],e.value[2],e.value[3]);break;case"1iv":n.uniform1iv(e.location,e.value);break;case"2iv":n.uniform2iv(e.location,e.value);break;case"1fv":n.uniform1fv(e.location,e.value);break;case"2fv":n.uniform2fv(e.location,e.value);break;case"3fv":n.uniform3fv(e.location,e.value);break;case"4fv":n.uniform4fv(e.location,e.value);break;case"Matrix3fv":n.uniformMatrix3fv(e.location,!1,e.value);break;case"Matrix4fv":n.uniformMatrix4fv(e.location,!1,e.value)}}),n.uniformMatrix4fv(this.uniforms.uProjectionMatrix.location,!1,t),n.uniformMatrix4fv(this.uniforms.uModelViewMatrix.location,!1,e),n.uniformMatrix4fv(this.uniforms.uModelMatrix.location,!1,r),i.mat4.identity(h),i.mat4.invert(h,r),i.mat3.identity(c),i.mat3.fromMat4(c,h),i.mat3.transpose(c,c),n.uniformMatrix3fv(this.uniforms.uNormalMatrix.location,!1,c)},t.prototype.dispose=function(){var t=this;Object.keys(this.customUniforms).forEach(function(e){var r=t.uniforms[e];switch(r.type){case"t":case"tc":n.deleteTexture(r.value)}}),this.program.dispose()},t}();e.a=f},function(t,e,r){"use strict";var n,i=r(3),a=r(0),o=r(31),s=function(){function t(){n=a.get(),this.program=n.createProgram(),this.created=!1,this.attributeLocations={}}return t.prototype.link=function(t,e){if(this.compiledVertexShader=this.compile("vertex",t),this.compiledFragmentShader=this.compile("fragment",e),this.compiledVertexShader&&this.compiledFragmentShader){if(n.attachShader(this.program,this.compiledVertexShader),n.attachShader(this.program,this.compiledFragmentShader),n.linkProgram(this.program),n.validateProgram(this.program),!n.getProgramParameter(this.program,i.s)){var r=n.getProgramInfoLog(this.program);console.warn("Failed to initialise shaders: "+r)}this.created=!0}},t.prototype.compile=function(t,e){var r;return r="vertex"===t?n.createShader(i._18):n.createShader(i.p),n.shaderSource(r,e),n.compileShader(r),n.getShaderParameter(r,i.e)?r:(console.warn("Failed to compile shader: "+n.getShaderInfoLog(r)),console.log(Object(o.a)(e)),!1)},t.prototype.setAttributeLocation=function(t){this.created&&(this.attributeLocations[t]=n.getAttribLocation(this.program,t),n.enableVertexAttribArray(this.attributeLocations[t]))},t.prototype.setAttributePointer=function(t,e){n.vertexAttribPointer(this.attributeLocations[t],e,i.g,!1,0,0)},t.prototype.setUniformLocation=function(t,e){this.created&&(t[e].location=n.getUniformLocation(this.program,e))},t.prototype.bind=function(){n.useProgram(this.program)},t.prototype.dispose=function(){var t,e=this;Object.keys(this.attributeLocations).forEach(function(r){t=e.attributeLocations[r],n.disableVertexAttribArray(t)}),n.detachShader(this.program,this.compiledVertexShader),n.detachShader(this.program,this.compiledFragmentShader),n.deleteProgram(this.program)},t}();e.a=s},function(t,e,r){"use strict";function n(t){for(var e=t.split("\n"),r=0;r<e.length;r+=1)e[r]=r+1+": "+e[r];return e.join("\n")}e.a=n},function(t,e,r){"use strict";var n,i=r(3),a=r(4),o=r(0),s=r(13),u=r(14),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(t){function e(e,r){var i=t.call(this)||this;return i.geometry=e,i.material=r,i.vertexArrayObject=new u.a,i.visible=!0,i.material.program.created||i.material.create(i.geometry),n=o.get(),i.vertexArrayObject.bind(),i.bindAttributes(),i.bindIndexBuffer(),i.vertexArrayObject.unbind(),i}return c(e,t),e.prototype.bindAttributes=function(){var t=this;Object.keys(this.geometry.attributes).forEach(function(e){"aVertexIndex"!==e&&(t.material.program.setAttributeLocation(e),t.geometry.attributes[e].bind(),t.material.program.setAttributePointer(e,t.geometry.attributes[e].itemSize))})},e.prototype.bindIndexBuffer=function(){this.geometry.bufferIndices&&this.geometry.attributes.aVertexIndex.bind()},e.prototype.draw=function(t){this.visible&&this.material.program.created&&(this.updateMatrix(t),this.material.program.bind(),-1!==this.material.culling&&(n.enable(i.f),n.cullFace(this.material.culling)),this.material.setUniforms(t.projectionMatrix,this.modelViewMatrix,this.modelMatrix),a.extensions.vertexArrayObjectExtension?this.vertexArrayObject.bind():(this.bindAttributes(),this.bindIndexBuffer()),this.geometry.attributes.aVertexIndex?n.drawElements(this.material.drawType,this.geometry.attributes.aVertexIndex.numItems,i.i,0):n.drawArrays(this.material.drawType,0,this.geometry.attributes.aVertexPosition.numItems),a.extensions.vertexArrayObjectExtension&&this.vertexArrayObject.unbind(),-1!==this.material.culling&&n.disable(i.f))},e.prototype.dispose=function(){this.material.dispose(),this.geometry.dispose(),this.vertexArrayObject.dispose(),delete this.geometry,delete this.material,t.prototype.dispose.call(this)},e}(s.a);e.a=h},function(t,e,r){"use strict";var n,i,a=r(3),o=r(4),s=r(0),u=r(7),c=r(15),h=r(17),f=function(){function t(t){this.width=u.RENDERER_DEFAULT_WIDTH,this.height=u.RENDERER_DEFAULT_HEIGHT,this.aspectRatio=u.RENDERER_DEFAULT_ASPECT_RATIO,this.alpha=!1,this.antialias=!1,this.depth=!1,this.failIfMajorPerformanceCaveat=!1,this.premultipliedAlpha=!0,this.preserveDrawingBuffer=!1,this.powerPreference="default",this.stencil=!1,this.pixelRatio=Math.min(window.devicePixelRatio,u.MAX_DEVICE_PIXEL_RATIO),this.autoClear=!0,this.clearColor={r:0,g:0,b:0,a:1},Object.assign(this,t),this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height;var e={alpha:this.alpha,antialias:this.antialias,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer,powerPreference:this.powerPreference,stencil:this.stencil};if(!Object(h.a)())return void console.warn("WebGL is not supported, please use a modern browser.");var r=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e);s.set(r),n=s.get(),i=Object(c.a)(),o.set(n),this.viewport={x:0,y:0,width:n.drawingBufferWidth,height:n.drawingBufferHeight},this.setClearColor(),this.depth&&n.enable(a.m)}return t.prototype.setContext=function(t){s.set(t),n=s.get()},t.prototype.getContext=function(){return n},t.prototype.setClearColor=function(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),this.clearColor.r=t,this.clearColor.g=e,this.clearColor.b=r,this.clearColor.a=n},t.prototype.setSize=function(t,e){var r=t*this.pixelRatio,n=e*this.pixelRatio;r===this.width&&n===this.height||(this.width=t*this.pixelRatio,this.height=e*this.pixelRatio,this.aspectRatio=this.width/this.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.setViewport(0,0,t,e))},t.prototype.setDevicePixelRatio=function(t){void 0===t&&(t=1),this.pixelRatio=Math.min(t,u.MAX_DEVICE_PIXEL_RATIO)||1,this.setSize(this.width,this.height)},t.prototype.setScissorTest=function(t){void 0===t&&(t=!1),t?n.enable(a.w):n.disable(a.w)},t.prototype.setScissor=function(t,e,r,i){n.scissor(t*this.pixelRatio,e*this.pixelRatio,r*this.pixelRatio,i*this.pixelRatio)},t.prototype.setViewport=function(t,e,r,n){this.viewport.x=t*this.pixelRatio,this.viewport.y=e*this.pixelRatio,this.viewport.width=r*this.pixelRatio,this.viewport.height=n*this.pixelRatio},t.prototype.render=function(t,e){n.viewport(this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height),n.clearColor(this.clearColor.r,this.clearColor.g,this.clearColor.b,this.clearColor.a),this.autoClear&&n.clear(a.d|a.k),t.update(),t.objects.forEach(function(t){t.draw(e)})},t}();e.a=f},function(t,e,r){function n(t){this.gl=t,this.cfgStack=new o,this.cfgStack.initFromGL(t),this._validCfg=!1}function i(t){a.call(this),this.state=t}var a=r(16),o=r(35),s=new a;n.prototype={push:function(t){this.cfgStack.push(t),this._validCfg=!1},pop:function(){this.cfgStack.pop(),this._validCfg=!1},apply:function(){this._validCfg||(this.cfgStack.commit(s),s.setupGL(this.gl),this._validCfg=!0)},now:function(t){this.push(t),this.apply(),this.pop()},config:function(){return new i(this)}},i.prototype=Object.create(a.prototype),i.prototype.constructor=i,i.prototype.apply=function(){this.state.now(this)},n.config=function(){return new a},t.exports=n},function(t,e,r){!function(){function e(){this._stack=new Uint32Array(816),this._sets=new Uint32Array(16),this._tmpDat=new Uint32Array(51),this._size=16,this._ptr=0,this._headPos=0,this._wcfg=new n}var n=r(16),i=n.DAT_MASKS;e.prototype={initFromGL:function(t){this._ptr=0,this._wcfg.fromGL(t),this._sets[0]=0,this._stack.set(this._wcfg._dat)},push:function(t){var e,r,n,a,o,s,u,c=this._ptr,h=this._sets[c++],f=t._set;for(c==this._size&&this._grow(),h|=f,this._sets[c]=h,this._ptr=c,e=51*c,r=this._stack,n=t._dat,a=this._tmpDat,o=0;51>o;o++)s=i[o],u=0!=(f&s)?n[o]:r[e+o-51],a[o]=u;r.set(a,e)},pop:function(){var t=--this._ptr;this._headPos>t&&(this._sets[t]|=this._sets[t+1],this._headPos=t)},flush:function(){for(;this._ptr>0;)this.pop()},commit:function(t){var e=this._ptr;this.copyConfig(e,t),this._headPos=e,this._sets[e-1]|=this._sets[e],this._sets[e]=0},patch:function(t,e){this.copyConfig(this._ptr,this._wcfg),this._wcfg.patch(t,e)},copyConfig:function(t,e){var r=new Uint32Array(this._stack.buffer,204*t,51);e._dat.set(r),e._set=this._sets[t]},_grow:function(){var t=this._size<<1,e=new Uint32Array(51*t),r=new Uint32Array(t);e.set(this._stack,0),r.set(this._sets,0),this._stack=e,this._sets=r,this._size=t}},t.exports=e}()},function(t,e,r){"use strict";var n,i=r(3),a=r(0),o=function(){function t(t){this.pixelRatio=t.pixelRatio||1,this.width=t.width*this.pixelRatio,this.height=t.height*this.pixelRatio,this.ratio=this.width/this.height,this.viewport={x:0,y:0,width:this.width,height:this.height},this.autoClear=!0,this.clearColor={r:0,g:0,b:0,a:1},n=a.get(),this.frameBuffer=n.createFramebuffer(),n.bindFramebuffer(i.q,this.frameBuffer),this.texture=n.createTexture(),n.bindTexture(i._4,this.texture),n.texParameteri(i._4,i._14,i.b),n.texParameteri(i._4,i._15,i.b),n.texParameteri(i._4,i._12,i.r),n.texParameteri(i._4,i._13,i.r),n.texImage2D(i._4,0,i.v,this.width,this.height,0,i.v,i.h,null),this.renderBuffer=n.createRenderbuffer(),n.bindRenderbuffer(i.u,this.renderBuffer),n.renderbufferStorage(i.u,i.l,this.width,this.height),n.framebufferTexture2D(i.q,i.c,i._4,this.texture,0),n.framebufferRenderbuffer(i.q,i.j,i.u,this.renderBuffer),n.bindTexture(i._4,null),n.bindRenderbuffer(i.u,null),n.bindFramebuffer(i.q,null)}return t.prototype.setClearColor=function(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),this.clearColor.r=t,this.clearColor.g=e,this.clearColor.b=r,this.clearColor.a=n},t.prototype.setSize=function(t,e){var r=t*this.pixelRatio,a=e*this.pixelRatio;r===this.width&&a===this.height||(this.width=t*this.pixelRatio,this.height=e*this.pixelRatio,this.ratio=this.width/this.height,n.bindTexture(i._4,this.texture),n.texImage2D(i._4,0,i.v,this.width,this.height,0,i.v,i.h,null),n.bindTexture(i._4,null),n.bindRenderbuffer(i.u,this.renderBuffer),n.renderbufferStorage(i.u,i.l,this.width,this.height),n.bindRenderbuffer(i.u,null),this.setViewport(0,0,t,e))},t.prototype.setScissorTest=function(t){void 0===t&&(t=!1),t?n.enable(i.w):n.disable(i.w)},t.prototype.setScissor=function(t,e,r,i){n.scissor(t*this.pixelRatio,e*this.pixelRatio,r*this.pixelRatio,i*this.pixelRatio)},t.prototype.setViewport=function(t,e,r,n){this.viewport.x=t*this.pixelRatio,this.viewport.y=e*this.pixelRatio,this.viewport.width=r*this.pixelRatio,this.viewport.height=n*this.pixelRatio},t.prototype.render=function(t,e){n.viewport(this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height),n.bindFramebuffer(i.q,this.frameBuffer),this.autoClear&&(n.clearColor(this.clearColor.r,this.clearColor.g,this.clearColor.b,this.clearColor.a),n.clear(i.d|i.k)),t.update(),t.objects.forEach(function(t){t.draw(e)}),n.bindTexture(i._4,this.texture),n.bindTexture(i._4,null),n.bindFramebuffer(i.q,null)},t}();e.a=o},function(t,e,r){"use strict";var n=function(){function t(){this.objects=[]}return t.prototype.add=function(t){this.objects.push(t)},t.prototype.dispose=function(t,e){void 0===e&&(e=!1);var r=this.objects.indexOf(t);-1!==r&&(this.objects.splice(r,1),e&&(t.dispose(),t=void 0))},t.prototype.update=function(){},t}();e.a=n},function(t,e,r){"use strict";var n,i=r(3),a=r(0),o=r(8),s=r(5),u=r(18),c=function(){function t(t){var e=this;this.onTextureLoaded=function(t){e.image=t,e.update(e.image)},this.onTextureError=function(t){console.warn(t)},n=a.get(),this.src=null,this.magFilter=i.t,this.minFilter=i.t,this.wrapS=i.b,this.wrapT=i.b,this.generateMipmap=!1,this.flipY=!1,Object.assign(this,t);var r=Object(u.a)(1,1).canvas;this.texture=n.createTexture(),n.bindTexture(i._4,this.texture),n.texImage2D(i._4,0,i.v,i.v,i.h,r),n.bindTexture(i._4,null),this.src&&this.load(this.src)}return t.prototype.load=function(t){Object(o.a)(t).then(this.onTextureLoaded).catch(this.onTextureError)},t.prototype.updateImage=function(t){this.src=t||this.src,this.load(this.src)},t.prototype.update=function(t){n.bindTexture(i._4,this.texture),n.pixelStorei(i._17,this.flipY),n.texImage2D(i._4,0,i.v,i.v,i.h,t),this.generateMipmap&&Object(s.isPowerOfTwo)(this.texture)&&n.generateMipmap(i._4),n.texParameteri(i._4,i._12,this.magFilter),n.texParameteri(i._4,i._13,this.minFilter),n.texParameteri(i._4,i._14,this.wrapS),n.texParameteri(i._4,i._15,this.wrapT),n.bindTexture(i._4,null)},t.prototype.dispose=function(){n.deleteTexture(this.texture),delete this.texture},t}();e.a=c},function(t,e,r){"use strict";var n,i=r(3),a=r(0),o=r(8),s=r(5),u=r(18),c=function(){function t(t){var e=this;this.onTextureLoaded=function(t){e.images=t,e.update(e.images)},this.onTextureError=function(t){console.warn(t)},n=a.get(),this.src=["","","","","",""],this.magFilter=i.r,this.minFilter=i.r,this.wrapS=i.b,this.wrapT=i.b,this.generateMipmap=!1,this.flipY=!1,Object.assign(this,t);var r=Object(u.a)(1,1).canvas;this.texture=n.createTexture(),this.images=[],this.loaders=[];var o=[];this.src.forEach(function(){o.push(r)}),this.update(o),this.src.forEach(function(t,r){e.loaders[r]=e.load(e.src[r])}),Promise.all(this.loaders).then(this.onTextureLoaded).catch(this.onTextureError)}return t.prototype.load=function(t){return Object(o.a)(t)},t.prototype.update=function(t){n.bindTexture(i._5,this.texture);for(var e=[i._9,i._6,i._10,i._7,i._11,i._8],r=0;r<this.src.length;r+=1){var a=t[r];n.pixelStorei(i._17,this.flipY),n.texImage2D(e[r],0,i.v,i.v,i.h,a),this.generateMipmap&&Object(s.isPowerOfTwo)(this.texture)&&n.generateMipmap(i._5),n.texParameteri(i._5,i._12,this.magFilter),n.texParameteri(i._5,i._13,this.minFilter),n.texParameteri(i._5,i._14,this.wrapS),n.texParameteri(i._5,i._15,this.wrapT)}n.bindTexture(i._5,null)},t}();e.a=c},function(t,e,r){"use strict";var n,i=r(1),a=(r.n(i),r(3)),o=r(0),s=r(19),u=r(20),c=function(){function t(t,e,r,i,s){n=o.get(),this.bufferVertices=t,this.bufferIndices=e,this.bufferNormals=r,this.bufferUvs=i,this.bufferColors=s,this.attributes={},this.bufferVertices&&(this.addAttribute("aVertexPosition",a.a,this.bufferVertices,3),this.generateVertices()),this.bufferIndices&&(this.addAttribute("aVertexIndex",a.o,this.bufferIndices,1,!1),this.generateFaces()),this.bufferNormals&&this.addAttribute("aVertexNormal",a.a,this.bufferNormals,3),this.bufferColors&&this.addAttribute("aVertexColor",a.a,this.bufferColors,3),this.bufferUvs&&(this.addAttribute("aTextureCoord",a.a,this.bufferUvs,2),this.generateUvs())}return t.prototype.addAttribute=function(t,e,r,n,i){this.attributes[t]=new s.a(e,r,n,i)},t.prototype.generateVertices=function(){this.vertices=[];for(var t=0;t<this.bufferVertices.length;t+=3){var e=this.bufferVertices[t],r=this.bufferVertices[t+1],n=this.bufferVertices[t+2],a=i.vec3.fromValues(e,r,n);this.vertices.push(a)}},t.prototype.generateFaces=function(){this.faces=[];for(var t=0;t<this.bufferIndices.length;t+=3){var e=this.bufferIndices[t],r=this.bufferIndices[t+1],n=this.bufferIndices[t+2],i=this.vertices[e],a=this.vertices[r],o=this.vertices[n],s=new u.a(e,r,n,i,a,o);this.faces.push(s)}},t.prototype.generateUvs=function(){this.uvs=[];for(var t=0;t<this.bufferUvs.length;t+=2){var e=this.bufferUvs[t],r=this.bufferUvs[t+1],n=i.vec2.fromValues(e,r);this.uvs.push(n)}},t.prototype.dispose=function(){var t=this;Object.keys(this.attributes).forEach(function(e){t.attributes[e].dispose(n),delete t.attributes[e]}),delete this.attributes,delete this.bufferVertices,delete this.bufferIndices,delete this.bufferNormals,delete this.bufferUvs,delete this.bufferColors},t}();e.a=c},function(t,e,r){"use strict";function n(t,e){return new Promise(function(r,n){var i=new XMLHttpRequest;i.responseType=e||"",i.onreadystatechange=function(){4===i.readyState&&(4===i.readyState&&200===i.status?r(i.response,i.status):n(i.status))},i.open("GET",t,!0),i.send()})}e.a=n}])});