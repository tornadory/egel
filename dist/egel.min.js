!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("egel",[],e):"object"==typeof exports?exports.egel=e():t.egel=e()}("undefined"==typeof self?this:self,function(){var t=Math.acos,e=Math.round,n=Math.floor,r=Math.ceil,i=Math.sqrt,o=Math.pow,a=Math.cos,s=Math.sin,u=Math.min,c=Math.max,f=Math.abs,h=Math.PI;return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=21)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.set=function(t){n=t},e.get=function(){return n};var n},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var i=n(2),o=r(i),a=n(22),s=r(a),u=n(23),c=r(u),f=n(12),h=r(f),l=n(24),v=r(l),d=n(25),p=r(d),m=n(26),b=r(m),y=n(13),x=r(y),E=n(14),g=r(E);e.glMatrix=o,e.mat2=s,e.mat2d=c,e.mat3=h,e.mat4=v,e.quat=p,e.vec2=b,e.vec3=x,e.vec4=g},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=r=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return f(t-e)<=n*c(1,f(t),f(e))};var n=e.EPSILON=1e-6,r=e.ARRAY_TYPE="undefined"==typeof Float32Array?Array:Float32Array,i=(e.RANDOM=Math.random,h/180)},function(t,e,n){"use strict";function r(t,e){if("highp"===e){if(0<t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision&&0<t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision)return"highp";e="mediump"}return"mediump"===e&&0<t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision&&0<t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision?"mediump":"lowp"}function i(t){var e=a.PRECISION,n=r(t,e);return n!==e&&(Object(s.a)("Capabilities: "+e+" not supported, using "+n+" instead"),e=n),{maxTextures:t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),maxVertexTextures:t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxTextureSize:t.getParameter(t.MAX_TEXTURE_SIZE),maxCubemapSize:t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:t.getParameter(t.MAX_VERTEX_ATTRIBS),maxVertexUniforms:t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:t.getParameter(t.MAX_VARYING_VECTORS),maxFragmentUniforms:t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),precision:e}}function o(t){var e=t.getExtension("ANGLE_instanced_arrays")||!1,n=t.getExtension("OES_vertex_array_object")||!1;return{angleInstancedArraysExtension:e,textureFloatExtension:t.getExtension("OES_texture_float")||!1,vertexArrayObjectExtension:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.set=function(t){u=i(t),c=o(t)},n.d(e,"capabilities",function(){return u}),n.d(e,"extensions",function(){return c});var a=n(5),s=n(6),u={},c={}},function(t,e,n){"use strict";var r=n(1),i=(n.n(r),function(){function t(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.v=r.vec3.create(),this.set(t,e,n),this}return Object.defineProperty(t.prototype,"x",{get:function(){return this.v[0]},set:function(t){this.v[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.v[1]},set:function(t){this.v[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this.v[2]},set:function(t){this.v[2]=t},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e,n){return r.vec3.set(this.v,t,e,n),this},t.prototype.clone=function(){return new t(this.v[0],this.v[1],this.v[2])},t.prototype.copy=function(t){return r.vec3.copy(this.v,t.v),this},t.prototype.add=function(t){return r.vec3.add(this.v,this.v,t.v),this},t.prototype.subtract=function(t){return r.vec3.subtract(this.v,this.v,t.v),this},t.prototype.subtractVectors=function(t,e){var n=r.vec3.create();return r.vec3.subtract(n,t.v,e.v),n},t.prototype.scale=function(t){return r.vec3.scale(this.v,this.v,t),this},t.prototype.distance=function(t){return r.vec3.distance(this.v,t.v)},t.prototype.length=function(){return r.vec3.length(this.v)},t.prototype.negate=function(){return r.vec3.negate(this.v,this.v),this},t.prototype.normalize=function(){return r.vec3.normalize(this.v,this.v),this},t.prototype.dot=function(t){return r.vec3.dot(this.v,t.v)},t.prototype.cross=function(t){return r.vec3.cross(this.v,this.v,t.v),this},t.prototype.crossVectors=function(t,e){var n=r.vec3.create();return r.vec3.cross(n,t.v,e.v),n},t.prototype.lerp=function(t,e){return r.vec3.lerp(this.v,this.v,t.v,e),this},t.prototype.equals=function(t){return r.vec3.equals(this.v,t.v)},t.prototype.multiply=function(t){return this.v[0]*=t.v[0],this.v[1]*=t.v[1],this.v[2]*=t.v[2],this},t.prototype.fromArray=function(t){return r.vec3.copy(this.v,t)},t.up=new t(0,1,0),t}());e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"CULL_NONE",function(){return r}),n.d(e,"CULL_BACK",function(){return i}),n.d(e,"CULL_FRONT",function(){return o}),n.d(e,"CULL_FRONT_AND_BACK",function(){return a}),n.d(e,"DRAW_POINTS",function(){return s}),n.d(e,"DRAW_LINES",function(){return u}),n.d(e,"DRAW_LINE_LOOP",function(){return c}),n.d(e,"DRAW_LINE_STRIP",function(){return f}),n.d(e,"DRAW_TRIANGLES",function(){return h}),n.d(e,"MAX_DEVICE_PIXEL_RATIO",function(){return l}),n.d(e,"RENDERER_DEFAULT_WIDTH",function(){return v}),n.d(e,"RENDERER_DEFAULT_HEIGHT",function(){return d}),n.d(e,"RENDERER_DEFAULT_ASPECT_RATIO",function(){return p}),n.d(e,"PRECISION",function(){return m});var r=-1,i=1029,o=1028,a=1032,s=0,u=1,c=2,f=3,h=4,l=4,v=1280,d=720,p=v/d,m="highp"},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=(function(){window.console&&console.log&&Function.prototype.bind.call(console.log,console)}(),function(){window.console&&console.clear&&Function.prototype.bind.call(console.clear,console)}(),function(){window.console&&console.debug&&Function.prototype.bind.call(console.debug,console)}(),function(){window.console&&console.info&&Function.prototype.bind.call(console.info,console)}(),function(){return window.console&&console.warn?Function.prototype.bind.call(console.warn,console):function(){}}());!function(){window.console&&console.error&&Function.prototype.bind.call(console.error,console)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clamp=function(t,e,n){return c(u(t,n),e)},e.lerp=function(t,e,n){return t+(e-t)*n},e.lookAt=function(t,e,n){var i=r.quat.create(),o=r.vec3.create(),a=r.vec3.create(),s=r.vec3.create();return r.vec3.sub(s,t,e),0===r.vec3.squaredLength(s)&&(s[2]=1),r.vec3.normalize(s,s),r.vec3.cross(o,n,s),0===r.vec3.squaredLength(o)&&(s[2]+=1e-4,r.vec3.cross(o,n,s)),r.vec3.normalize(o,o),r.vec3.cross(a,s,o),r.quat.setAxes(i,s,o,a),r.quat.invert(i,i),i};var r=n(1);n.n(r)},function(t,e,n){"use strict";var r=n(1),i=(n.n(r),n(5)),o=n(4),a=function(){function t(t){this.projectionMatrix=r.mat4.create(),this.worldInverseMatrix=r.mat4.create(),this.isCamera=!0,this.isPespectiveCamera=!1,this.isOrthographicCamera=!1,this.near=.1,this.far=100,this.fieldOfView=70,this.aspectRatio=i.RENDERER_DEFAULT_ASPECT_RATIO,this.position=new o.a,this.target=new o.a,this.up=new o.a(0,1,0),Object.assign(this,t)}return t.prototype.lookAt=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.target.set(t,e,n)},t.prototype.updateMatrixWorld=function(){r.mat4.identity(this.worldInverseMatrix),r.mat4.lookAt(this.worldInverseMatrix,this.position.v,this.target.v,this.up.v)},t.prototype.updateProjectionMatrix=function(){},t}();e.a=a},function(t,e,n){"use strict";var r,i=n(1),o=(n.n(i),n(3)),a=n(0),s=n(5),u=n(29),c=n(16),f=n(30),h=n(31),l=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},v=i.mat3.create(),d=i.mat4.create(),p=function(){function t(t){void 0===t&&(t={}),r=a.get(),this.name="",this.uniforms={},this.hookVertexPre="",this.hookVertexMain="",this.hookVertexEnd="",this.hookFragmentPre="",this.hookFragmentMain="",this.hookFragmentEnd="",this.vertexShader=h.a,this.fragmentShader=f.a,this.drawType=s.DRAW_TRIANGLES,this.culling=s.CULL_NONE,this.blending=!1,this.blendFunc=[r.SRC_ALPHA,r.ONE],Object.assign(this,t),this.program=new u.a}return t.prototype.create=function(t){var e=this;r=a.get(),this.vertexShader=this.processShader(this.vertexShader,t),this.fragmentShader=this.processShader(this.fragmentShader,t),this.program.link(this.vertexShader,this.fragmentShader),this.customUniforms=this.uniforms||{};var n=[r.TEXTURE0,r.TEXTURE1,r.TEXTURE2,r.TEXTURE3,r.TEXTURE4,r.TEXTURE5];Object.keys(this.uniforms).forEach(function(t,r){switch(e.uniforms[t].type){case"t":case"tc":e.uniforms[t].textureIndex=r,e.uniforms[t].activeTexture=n[r]}});var o={uProjectionMatrix:{location:null,type:"4fv",value:i.mat4.create()}};this.uniforms=l({uDiffuse:{location:null,type:"3f",value:(new c.a).v},uModelMatrix:{location:null,type:"4fv",value:i.mat4.create()},uModelViewMatrix:{location:null,type:"4fv",value:i.mat4.create()},uNormalMatrix:{location:null,type:"4fv",value:i.mat4.create()}},this.customUniforms,o),Object.keys(this.uniforms).forEach(function(t){e.program.setUniformLocation(e.uniforms,t)})},t.prototype.processShader=function(t,e){function n(t){i+="#define "+t+" \n"}r=a.get();var i="",s="precision "+o.capabilities.precision+" float;";return e.bufferUvs&&n("uv"),e.bufferColors&&n("vertexColors"),e.bufferNormals&&n("normals"),t=t.replace(/#HOOK_PRECISION/g,s),t=t.replace(/#HOOK_DEFINES/g,i),t=t.replace(/#HOOK_VERTEX_PRE/g,this.hookVertexPre),t=t.replace(/#HOOK_VERTEX_MAIN/g,this.hookVertexMain),t=t.replace(/#HOOK_VERTEX_END/g,this.hookVertexEnd),t=t.replace(/#HOOK_FRAGMENT_PRE/g,this.hookFragmentPre),t=t.replace(/#HOOK_FRAGMENT_MAIN/g,this.hookFragmentMain),t=t.replace(/#HOOK_FRAGMENT_END/g,this.hookFragmentEnd)},t.prototype.setUniforms=function(t,e,n,o){var s=this;r=a.get(),Object.keys(this.customUniforms).forEach(function(t){var e=s.uniforms[t];switch(e.type){case"t":r.uniform1i(e.location,e.textureIndex),r.activeTexture(e.activeTexture),r.bindTexture(r.TEXTURE_2D,e.value);break;case"tc":r.uniform1i(e.location,e.textureIndex),r.activeTexture(e.activeTexture),r.bindTexture(r.TEXTURE_CUBE_MAP,e.value);break;case"i":r.uniform1i(e.location,e.value);break;case"f":r.uniform1f(e.location,e.value);break;case"2f":r.uniform2f(e.location,e.value[0],e.value[1]);break;case"3f":r.uniform3f(e.location,e.value[0],e.value[1],e.value[2]);break;case"4f":r.uniform4f(e.location,e.value[0],e.value[1],e.value[2],e.value[3]);break;case"1iv":r.uniform1iv(e.location,e.value);break;case"2iv":r.uniform2iv(e.location,e.value);break;case"1fv":r.uniform1fv(e.location,e.value);break;case"2fv":r.uniform2fv(e.location,e.value);break;case"3fv":r.uniform3fv(e.location,e.value);break;case"4fv":r.uniform4fv(e.location,e.value);break;case"Matrix3fv":r.uniformMatrix3fv(e.location,!1,e.value);break;case"Matrix4fv":r.uniformMatrix4fv(e.location,!1,e.value)}}),r.uniformMatrix4fv(this.uniforms.uProjectionMatrix.location,!1,t),r.uniformMatrix4fv(this.uniforms.uModelViewMatrix.location,!1,e),r.uniformMatrix4fv(this.uniforms.uModelMatrix.location,!1,n),i.mat4.identity(d),i.mat4.invert(d,n),i.mat3.identity(v),i.mat3.fromMat4(v,d),i.mat3.transpose(v,v),r.uniformMatrix3fv(this.uniforms.uNormalMatrix.location,!1,v),r.uniform3f(this.uniforms.uDiffuse.location,this.uniforms.uDiffuse.value[0],this.uniforms.uDiffuse.value[1],this.uniforms.uDiffuse.value[2]),o&&this.uniforms.uCameraPosition&&r.uniform3f(this.uniforms.uCameraPosition.location,o.position.v[0],o.position.v[1],o.position.v[2])},t.prototype.dispose=function(){var t=this;Object.keys(this.customUniforms).forEach(function(e){var n=t.uniforms[e];switch(n.type){case"t":case"tc":r.deleteTexture(n.value)}}),this.program.dispose()},t}();e.a=p},function(t,e,n){"use strict";var r,i=n(3),o=n(0),a=n(17),s=n(18),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n){var i=t.call(this)||this;return i.geometry=e,i.material=n,i.vertexArrayObject=new s.a,i.visible=!0,i.instanceCount=0,i.material.program.created||i.material.create(i.geometry),i.isInstanced=!1,r=o.get(),i.vertexArrayObject.bind(),i.bindAttributes(),i.bindAttributesInstanced(),i.bindIndexBuffer(),i.vertexArrayObject.unbind(),i}return u(e,t),e.prototype.setInstanceCount=function(t){r=o.get(),this.instanceCount=t,this.isInstanced=!0},e.prototype.bindAttributes=function(){var t=this;Object.keys(this.geometry.attributes).forEach(function(e){"aIndex"!==e&&(t.material.program.setAttributeLocation(e),t.geometry.attributes[e].bind(),t.material.program.setAttributePointer(e,t.geometry.attributes[e].itemSize))})},e.prototype.bindAttributesInstanced=function(){var t=this;Object.keys(this.geometry.attributesInstanced).forEach(function(e){"aIndex"!==e&&(t.material.program.setAttributeLocation(e),t.geometry.attributesInstanced[e].bind(),t.material.program.setAttributeInstancedPointer(e,t.geometry.attributesInstanced[e].itemSize),i.extensions.angleInstancedArraysExtension.vertexAttribDivisorANGLE(t.material.program.attributeLocations[e],1))})},e.prototype.bindIndexBuffer=function(){this.geometry.bufferIndices&&this.geometry.attributes.aIndex.bind()},e.prototype.draw=function(t){this.visible&&this.material.program.created&&(r=o.get(),this.updateMatrix(t),this.material.program.bind(),-1!==this.material.culling&&(r.enable(r.CULL_FACE),r.cullFace(this.material.culling)),this.material.setUniforms(t.projectionMatrix,this.modelViewMatrix,this.modelMatrix,t),i.extensions.vertexArrayObjectExtension?this.vertexArrayObject.bind():(this.bindAttributes(),this.bindAttributesInstanced(),this.bindIndexBuffer()),this.geometry.attributes.aIndex?r.drawElements(this.material.drawType,this.geometry.attributes.aIndex.numItems,r.UNSIGNED_SHORT,0):r.drawArrays(this.material.drawType,0,this.geometry.attributes.aVertexPosition.numItems),i.extensions.vertexArrayObjectExtension&&this.vertexArrayObject.unbind(),-1!==this.material.culling&&r.disable(r.CULL_FACE))},e.prototype.drawInstance=function(t){this.visible&&this.material.program.created&&(r=o.get(),this.updateMatrix(t),this.material.program.bind(),this.material.setUniforms(t.projectionMatrix,this.modelViewMatrix,this.modelMatrix,t),-1!==this.material.culling&&(r.enable(r.CULL_FACE),r.cullFace(this.material.culling)),this.material.blending&&(r.enable(r.BLEND),r.blendFunc(this.material.blendFunc[0],this.material.blendFunc[1])),i.extensions.vertexArrayObjectExtension?this.vertexArrayObject.bind():(this.bindAttributes(),this.bindAttributesInstanced(),this.bindIndexBuffer()),i.extensions.angleInstancedArraysExtension.drawElementsInstancedANGLE(this.material.drawType,this.geometry.attributes.aIndex.numItems,r.UNSIGNED_SHORT,0,this.instanceCount),i.extensions.vertexArrayObjectExtension&&this.vertexArrayObject.unbind(),-1!==this.material.culling&&r.disable(r.CULL_FACE),this.material.blending&&r.disable(r.BLEND))},e.prototype.dispose=function(){this.material.dispose(),this.geometry.dispose(),this.vertexArrayObject.dispose(),this.geometry=null,this.material=null,t.prototype.dispose.call(this)},e}(a.a);e.a=c},function(t,e,n){"use strict";var r,i=n(0),o=n(19),a=n(41),s=n(20),u=n(4),c=n(42),f=function(){function t(t,e,n,o,a){r=i.get(),this.bufferVertices=t,this.bufferIndices=e,this.bufferNormals=n,this.bufferUvs=o,this.bufferColors=a,this.attributes={},this.attributesInstanced={},this.bufferVertices&&(this.addAttribute("aVertexPosition",r.ARRAY_BUFFER,this.bufferVertices,3),this.generateVertices()),this.bufferIndices&&(this.addAttribute("aIndex",r.ELEMENT_ARRAY_BUFFER,this.bufferIndices,1,!1),this.generateFaces()),this.bufferNormals&&this.addAttribute("aVertexNormal",r.ARRAY_BUFFER,this.bufferNormals,3),this.bufferUvs&&(this.addAttribute("aUv",r.ARRAY_BUFFER,this.bufferUvs,2),this.generateUvs()),this.bufferColors&&this.addAttribute("aVertexColor",r.ARRAY_BUFFER,this.bufferColors,3)}return t.prototype.addAttribute=function(t,e,n,r,i){this.attributes[t]=new o.a(e,n,r,i)},t.prototype.addInstancedBufferAttribute=function(t,e,n){this.attributesInstanced[t]=new o.a(r.ARRAY_BUFFER,e,n)},t.prototype.generateVertices=function(){this.vertices=[];for(var t=0;t<this.bufferVertices.length;t+=3){var e=this.bufferVertices[t],n=this.bufferVertices[t+1],r=this.bufferVertices[t+2],i=new u.a(e,n,r);this.vertices.push(i)}},t.prototype.generateFaces=function(){this.faces=[];for(var t=0;t<this.bufferIndices.length;t+=3){var e=this.bufferIndices[t],n=this.bufferIndices[t+1],r=this.bufferIndices[t+2],i=this.vertices[e],o=this.vertices[n],s=this.vertices[r],u=new a.a(e,n,r,i,o,s);this.faces.push(u)}},t.prototype.generateUvs=function(){this.uvs=[];for(var t=0;t<this.bufferUvs.length;t+=2){var e=this.bufferUvs[t],n=this.bufferUvs[t+1],r=new s.a(e,n);this.uvs.push(r)}},t.prototype.updateVertices=function(){var t=this;r=i.get(),this.vertices.forEach(function(e,n){t.bufferVertices.set(e.v,n*e.v.length)}),this.attributes.aVertexPosition.update(this.bufferVertices)},t.prototype.updateNormals=function(){var t=[];this.faces.forEach(function(e){e.updateFaceNormal(),t[e.indices[0]]=e.normal.v,t[e.indices[1]]=e.normal.v,t[e.indices[2]]=e.normal.v}),this.bufferNormals.set(Object(c.a)(t)),this.attributes.aVertexNormal.update(this.bufferNormals)},t.prototype.dispose=function(){var t=this;r=i.get(),Object.keys(this.attributes).forEach(function(e){t.attributes[e].dispose(r),t.attributes[e]=void 0}),Object.keys(this.attributesInstanced).forEach(function(e){t.attributesInstanced[e].dispose(r),t.attributesInstanced[e]=void 0}),this.attributes=void 0,this.attributesInstanced=void 0,this.bufferVertices=void 0,this.bufferIndices=void 0,this.bufferNormals=void 0,this.bufferUvs=void 0,this.bufferColors=void 0},t}();e.a=f},function(t,e,n){"use strict";function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],h=e[8],l=n[0],v=n[1],d=n[2],p=n[3],m=n[4],b=n[5],y=n[6],x=n[7],E=n[8];return t[0]=l*r+v*a+d*c,t[1]=l*i+v*s+d*f,t[2]=l*o+v*u+d*h,t[3]=p*r+m*a+b*c,t[4]=p*i+m*s+b*f,t[5]=p*o+m*u+b*h,t[6]=y*r+x*a+E*c,t[7]=y*i+x*s+E*f,t[8]=y*o+x*u+E*h,t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new l.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new l.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,r,i,o,a,s,u){var c=new l.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c},e.set=function(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],h=f*a-s*c,l=-f*o+s*u,v=c*o-a*u,d=n*h+r*l+i*v;return d?(d=1/d,t[0]=h*d,t[1]=(-f*r+i*c)*d,t[2]=(s*r-i*a)*d,t[3]=l*d,t[4]=(f*n-i*u)*d,t[5]=(-s*n+i*o)*d,t[6]=v*d,t[7]=(-c*n+r*u)*d,t[8]=(a*n-r*o)*d,t):null},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8];return t[0]=a*f-s*c,t[1]=i*c-r*f,t[2]=r*s-i*a,t[3]=s*u-o*f,t[4]=n*f-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)},e.multiply=r,e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],h=e[8],l=n[0],v=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l*r+v*a+c,t[7]=l*i+v*s+f,t[8]=l*o+v*u+h,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],c=e[4],f=e[5],h=e[6],l=e[7],v=e[8],d=s(n),p=a(n);return t[0]=p*r+d*u,t[1]=p*i+d*c,t[2]=p*o+d*f,t[3]=p*u-d*r,t[4]=p*c-d*i,t[5]=p*f-d*o,t[6]=h,t[7]=l,t[8]=v,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=s(e),r=a(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,f=r*a,h=r*s,l=i*a,v=i*s,d=i*u,p=o*a,m=o*s,b=o*u;return t[0]=1-h-d,t[3]=f-b,t[6]=l+m,t[1]=f+b,t[4]=1-c-d,t[7]=v-p,t[2]=l-m,t[5]=v+p,t[8]=1-c-h,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],h=e[9],l=e[10],v=e[11],d=e[12],p=e[13],m=e[14],b=e[15],y=n*s-r*a,x=n*u-i*a,E=n*c-o*a,g=r*u-i*s,_=r*c-o*s,A=i*c-o*u,O=f*p-h*d,R=f*m-l*d,P=f*b-v*d,w=h*m-l*p,M=h*b-v*p,T=l*b-v*m,I=y*T-x*M+E*w+g*P-_*R+A*O;return I?(I=1/I,t[0]=(s*T-u*M+c*w)*I,t[1]=(u*P-a*T-c*R)*I,t[2]=(a*M-s*P+c*O)*I,t[3]=(i*M-r*T-o*w)*I,t[4]=(n*T-i*P+o*R)*I,t[5]=(r*P-n*M-o*O)*I,t[6]=(p*A-m*_+b*g)*I,t[7]=(m*E-d*A-b*x)*I,t[8]=(d*_-p*E+b*y)*I,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return i(o(t[0],2)+o(t[1],2)+o(t[2],2)+o(t[3],2)+o(t[4],2)+o(t[5],2)+o(t[6],2)+o(t[7],2)+o(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=u,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],h=t[7],v=t[8],d=e[0],p=e[1],m=e[2],b=e[3],y=e[4],x=e[5],E=e[6],g=e[7],_=e[8];return f(n-d)<=l.EPSILON*c(1,f(n),f(d))&&f(r-p)<=l.EPSILON*c(1,f(r),f(p))&&f(i-m)<=l.EPSILON*c(1,f(i),f(m))&&f(o-b)<=l.EPSILON*c(1,f(o),f(b))&&f(a-y)<=l.EPSILON*c(1,f(a),f(y))&&f(s-x)<=l.EPSILON*c(1,f(s),f(x))&&f(u-E)<=l.EPSILON*c(1,f(u),f(E))&&f(h-g)<=l.EPSILON*c(1,f(h),f(g))&&f(v-_)<=l.EPSILON*c(1,f(v),f(_))};var h=n(2),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(h);e.mul=r,e.sub=u},function(o,l,v){"use strict";function d(){var t=new P.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function p(t){var e=t[0],n=t[1],r=t[2];return i(e*e+n*n+r*r)}function m(t,e,n){var r=new P.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function b(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function y(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function x(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function E(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return i(n*n+r*r+o*o)}function g(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function _(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function A(t,e){var n=e[0],r=e[1],o=e[2],a=n*n+r*r+o*o;return 0<a&&(a=1/i(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function O(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Object.defineProperty(l,"__esModule",{value:!0}),l.forEach=l.sqrLen=l.len=l.sqrDist=l.dist=l.div=l.mul=l.sub=void 0,l.create=d,l.clone=function(t){var e=new P.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},l.length=p,l.fromValues=m,l.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},l.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},l.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},l.subtract=b,l.multiply=y,l.divide=x,l.ceil=function(t,e){return t[0]=r(e[0]),t[1]=r(e[1]),t[2]=r(e[2]),t},l.floor=function(t,e){return t[0]=n(e[0]),t[1]=n(e[1]),t[2]=n(e[2]),t},l.min=function(t,e,n){return t[0]=u(e[0],n[0]),t[1]=u(e[1],n[1]),t[2]=u(e[2],n[2]),t},l.max=function(t,e,n){return t[0]=c(e[0],n[0]),t[1]=c(e[1],n[1]),t[2]=c(e[2],n[2]),t},l.round=function(t,n){return t[0]=e(n[0]),t[1]=e(n[1]),t[2]=e(n[2]),t},l.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},l.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},l.distance=E,l.squaredDistance=g,l.squaredLength=_,l.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},l.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},l.normalize=A,l.dot=O,l.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},l.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},l.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),f=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*f,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*f,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*f,t},l.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,f=3*o*s,h=3*u*a,l=u*o;return t[0]=e[0]*c+n[0]*f+r[0]*h+i[0]*l,t[1]=e[1]*c+n[1]*f+r[1]*h+i[1]*l,t[2]=e[2]*c+n[2]*f+r[2]*h+i[2]*l,t},l.random=function(t,e){e=e||1;var n=2*P.RANDOM()*h,r=2*P.RANDOM()-1,o=i(1-r*r)*e;return t[0]=a(n)*o,t[1]=s(n)*o,t[2]=r*e,t},l.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},l.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},l.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],c=n[3],f=c*r+s*o-u*i,h=c*i+u*r-a*o,l=c*o+a*i-s*r,v=-a*r-s*i-u*o;return t[0]=f*c+v*-a+h*-u-l*-s,t[1]=h*c+v*-s+l*-a-f*-u,t[2]=l*c+v*-u+f*-s-h*-a,t},l.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*a(r)-i[2]*s(r),o[2]=i[1]*s(r)+i[2]*a(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},l.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*s(r)+i[0]*a(r),o[1]=i[1],o[2]=i[2]*a(r)-i[0]*s(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},l.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*a(r)-i[1]*s(r),o[1]=i[0]*s(r)+i[1]*a(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},l.angle=function(e,n){var r=m(e[0],e[1],e[2]),i=m(n[0],n[1],n[2]);A(r,r),A(i,i);var o=O(r,i);return 1<o?0:-1>o?h:t(o)},l.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},l.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},l.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return f(n-o)<=P.EPSILON*c(1,f(n),f(o))&&f(r-a)<=P.EPSILON*c(1,f(r),f(a))&&f(i-s)<=P.EPSILON*c(1,f(i),f(s))};var R=v(2),P=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(R);l.sub=b,l.mul=y,l.div=x,l.dist=E,l.sqrDist=g,l.len=p,l.sqrLen=_,l.forEach=function(){var t=d();return function(e,n,r,i,o,a){var s,c;for(n||(n=3),r||(r=0),c=i?u(i*n+r,e.length):e.length,s=r;s<c;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,o,a){"use strict";function s(){var t=new g.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function v(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function d(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function p(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return i(n*n+r*r+o*o+a*a)}function m(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function b(t){var e=t[0],n=t[1],r=t[2],o=t[3];return i(e*e+n*n+r*r+o*o)}function y(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function x(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],s=n*n+r*r+o*o+a*a;return 0<s&&(s=1/i(s),t[0]=n*s,t[1]=r*s,t[2]=o*s,t[3]=a*s),t}Object.defineProperty(o,"__esModule",{value:!0}),o.forEach=o.sqrLen=o.len=o.sqrDist=o.dist=o.div=o.mul=o.sub=void 0,o.create=s,o.clone=function(t){var e=new g.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.fromValues=function(t,e,n,r){var i=new g.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},o.subtract=h,o.multiply=l,o.divide=v,o.ceil=function(t,e){return t[0]=r(e[0]),t[1]=r(e[1]),t[2]=r(e[2]),t[3]=r(e[3]),t},o.floor=function(t,e){return t[0]=n(e[0]),t[1]=n(e[1]),t[2]=n(e[2]),t[3]=n(e[3]),t},o.min=function(t,e,n){return t[0]=u(e[0],n[0]),t[1]=u(e[1],n[1]),t[2]=u(e[2],n[2]),t[3]=u(e[3],n[3]),t},o.max=function(t,e,n){return t[0]=c(e[0],n[0]),t[1]=c(e[1],n[1]),t[2]=c(e[2],n[2]),t[3]=c(e[3],n[3]),t},o.round=function(t,n){return t[0]=e(n[0]),t[1]=e(n[1]),t[2]=e(n[2]),t[3]=e(n[3]),t},o.scale=d,o.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},o.distance=p,o.squaredDistance=m,o.length=b,o.squaredLength=y,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},o.normalize=x,o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},o.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},o.random=function(t,e){return e=e||1,t[0]=g.RANDOM(),t[1]=g.RANDOM(),t[2]=g.RANDOM(),t[3]=g.RANDOM(),x(t,t),d(t,t,e),t},o.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},o.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],c=n[3],f=c*r+s*o-u*i,h=c*i+u*r-a*o,l=c*o+a*i-s*r,v=-a*r-s*i-u*o;return t[0]=f*c+v*-a+h*-u-l*-s,t[1]=h*c+v*-s+l*-a-f*-u,t[2]=l*c+v*-u+f*-s-h*-a,t[3]=e[3],t},o.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},o.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],h=e[3];return f(n-a)<=g.EPSILON*c(1,f(n),f(a))&&f(r-s)<=g.EPSILON*c(1,f(r),f(s))&&f(i-u)<=g.EPSILON*c(1,f(i),f(u))&&f(o-h)<=g.EPSILON*c(1,f(o),f(h))};var E=a(2),g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(E);o.sub=h,o.mul=l,o.div=v,o.dist=p,o.sqrDist=m,o.len=b,o.sqrLen=y,o.forEach=function(){var t=s();return function(e,n,r,i,o,a){var s,c;for(n||(n=4),r||(r=0),c=i?u(i*n+r,e.length):e.length,s=r;s<c;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBuffer=function(t,e,n){void 0===n&&(n=!1),r=i.get();var o=r.createBuffer(),a=n?r.DYNAMIC_DRAW:r.STATIC_DRAW,s=t===r.ARRAY_BUFFER?Float32Array:Uint16Array;return r.bindBuffer(t,o),r.bufferData(t,new s(e),a),r.bindBuffer(t,null),o};var r,i=n(0);r=i.get()},function(t,e,n){"use strict";var r=n(1),i=(n.n(r),function(){function t(t){return void 0===t&&(t=16777215),this.v=r.vec3.create(),this.convert(t),this}return Object.defineProperty(t.prototype,"r",{get:function(){return this.v[0]},set:function(t){this.v[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this.v[1]},set:function(t){this.v[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.v[2]},set:function(t){this.v[2]=t},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e,n){return r.vec3.set(this.v,t,e,n),this},t.prototype.copy=function(t){return r.vec3.copy(this.v,r.vec3.fromValues(t[0],t[1],t[2])),this},t.prototype.convert=function(t){var e;return"number"==typeof t&&(e=this.hexIntToRgb(t)),"string"==typeof t&&(e=this.hexStringToRgb(t)),r.vec3.copy(this.v,this.normalize(e)),this},t.prototype.normalize=function(t){return r.vec3.fromValues(t[0]/255,t[1]/255,t[2]/255)},t.prototype.fromArray=function(t){this.set(t[0],t[1],t[2])},t.prototype.componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},t.prototype.rgbToHex=function(t,e,n){return"#"+this.componentToHex(t)+this.componentToHex(e)+this.componentToHex(n)},t.prototype.hexIntToRgb=function(t){return r.vec3.fromValues(t>>16,255&t>>8,255&t)},t.prototype.hexStringToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?r.vec3.fromValues(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)):null},t}());e.a=i},function(t,e,n){"use strict";var r=n(1),i=(n.n(r),n(7)),o=n(4),a=0,s=r.vec3.create(),u=function(){function t(){this.children=[],this.localMatrix=r.mat4.create(),this.modelMatrix=r.mat4.create(),this.modelViewMatrix=r.mat4.create(),this.matrixAutoUpdate=!0,this.position=new o.a,this.rotation=new o.a,this.scale=new o.a(1,1,1),this.isObject3D=!0,this.quaternion=r.quat.create(),this.quaternionLookAt=r.quat.create(),this.lookAtUp=r.vec3.create()}return t.prototype.updateMatrix=function(t){r.mat4.identity(this.modelViewMatrix),this.matrixAutoUpdate&&(r.mat4.identity(this.localMatrix),r.mat4.identity(this.modelMatrix),r.quat.identity(this.quaternion),this.parent&&(r.mat4.copy(this.localMatrix,this.parent.modelMatrix),r.mat4.multiply(this.modelMatrix,this.modelMatrix,this.localMatrix)),r.quat.copy(this.quaternion,this.quaternionLookAt),r.mat4.translate(this.modelMatrix,this.modelMatrix,this.position.v),r.quat.rotateX(this.quaternion,this.quaternion,this.rotation.x),r.quat.rotateY(this.quaternion,this.quaternion,this.rotation.y),r.quat.rotateZ(this.quaternion,this.quaternion,this.rotation.z),a=r.quat.getAxisAngle(s,this.quaternion),r.mat4.rotate(this.modelMatrix,this.modelMatrix,a,s),r.mat4.scale(this.modelMatrix,this.modelMatrix,this.scale.v)),t&&r.mat4.multiply(this.modelViewMatrix,t.worldInverseMatrix,this.modelMatrix)},t.prototype.lookAt=function(t){r.quat.identity(this.quaternionLookAt),this.quaternionLookAt=Object(i.lookAt)(this.position.v,t.v,this.lookAtUp)},t.prototype.setParent=function(t){this.unsetParent(),t.isObject3D&&(t.children.push(this),this.parent=t)},t.prototype.unsetParent=function(){if(void 0!==this.parent){var t=this.parent.children.indexOf(this);-1!==t&&(this.parent.children.splice(t,1),this.parent=null)}},t.prototype.dispose=function(){this.unsetParent(),this.children=[],this.localMatrix=null,this.modelMatrix=null,this.position=null,this.rotation=null,this.scale=null,this.quaternion=null,this.isObject3D=null},t}();e.a=u},function(t,e,n){"use strict";var r,i=n(3),o=n(0),a=function(){function t(){r=o.get(),i.extensions.vertexArrayObjectExtension&&(this.vertexArrayObject=i.extensions.vertexArrayObjectExtension.createVertexArrayOES())}return t.prototype.bind=function(){i.extensions.vertexArrayObjectExtension&&i.extensions.vertexArrayObjectExtension.bindVertexArrayOES(this.vertexArrayObject)},t.prototype.unbind=function(){i.extensions.vertexArrayObjectExtension&&i.extensions.vertexArrayObjectExtension.bindVertexArrayOES(null)},t.prototype.dispose=function(){i.extensions.vertexArrayObjectExtension&&i.extensions.vertexArrayObjectExtension.deleteVertexArrayOES(this.vertexArrayObject),this.vertexArrayObject=null},t}();e.a=a},function(t,e,n){"use strict";var r,i=n(0),o=n(15),a=function(){function t(t,e,n,r){void 0===r&&(r=!0),this.type=t,this.itemSize=n,this.numItems=e.length/n,this.buffer=Object(o.createBuffer)(t,e),this.shaderAttribute=r}return t.prototype.bind=function(){r=i.get(),r.bindBuffer(this.type,this.buffer)},t.prototype.unbind=function(){r=i.get(),r.bindBuffer(this.type,null)},t.prototype.update=function(t){this.bind(),r=i.get(),r.bufferSubData(this.type,0,t),this.unbind()},t.prototype.dispose=function(){r=i.get(),r.deleteBuffer(this.buffer),this.buffer=null},t}();e.a=a},function(t,e,n){"use strict";var r=n(1),i=(n.n(r),function(){function t(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.v=r.vec2.create(),this.set(t,e),this}return Object.defineProperty(t.prototype,"x",{get:function(){return this.v[0]},set:function(t){this.v[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.v[1]},set:function(t){this.v[1]=t},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e){return r.vec2.set(this.v,t,e),this},t.prototype.clone=function(){return new t(this.v[0],this.v[1])},t.prototype.copy=function(t){return r.vec2.copy(this.v,t.v),this},t.prototype.add=function(t){return r.vec2.add(this.v,this.v,t.v),this},t.prototype.subtract=function(t){return r.vec2.subtract(this.v,this.v,t.v),this},t.prototype.subtractVectors=function(t,e){var n=r.vec2.create();return r.vec2.subtract(n,t.v,e.v),n},t.prototype.scale=function(t){return r.vec2.scale(this.v,this.v,t),this},t.prototype.distance=function(t){return r.vec2.distance(this.v,t.v)},t.prototype.length=function(){return r.vec2.length(this.v)},t.prototype.negate=function(){return r.vec2.negate(this.v,this.v),this},t.prototype.normalize=function(){return r.vec2.normalize(this.v,this.v),this},t.prototype.lerp=function(t,e){return r.vec2.lerp(this.v,this.v,t.v,e),this},t.prototype.equals=function(t){return r.vec2.equals(this.v,t.v)},t.prototype.multiply=function(t){return this.v[0]*=t.v[0],this.v[1]*=t.v[1],this},t.prototype.fromArray=function(t){return r.vec2.copy(this.v,t)},t}());e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8);n.d(e,"Camera",function(){return r.a});var i=n(27);n.d(e,"OrthographicCamera",function(){return i.a});var o=n(28);n.d(e,"PerspectiveCamera",function(){return o.a});var a=n(3);n.d(e,"Capabilities",function(){return a});var s=n(0);n.d(e,"Context",function(){return s});var u=n(5);n.d(e,"CoreConstants",function(){return u});var c=n(15);n.d(e,"CoreUtilities",function(){return c});var f=n(9);n.d(e,"Material",function(){return f.a});var h=n(10);n.d(e,"Mesh",function(){return h.a});var l=n(17);n.d(e,"Object3D",function(){return l.a});var v=n(32);n.d(e,"Renderer",function(){return v.a});var d=n(34);n.d(e,"Scene",function(){return d.a});var p=n(35);n.d(e,"Texture",function(){return p.a});var m=n(18);n.d(e,"VertexArrayObject",function(){return m.a});var b=n(39);n.d(e,"OrbitalControls",function(){return b.a});var y=n(19);n.d(e,"BufferAttribute",function(){return y.a});var x=n(11);n.d(e,"Geometry",function(){return x.a});var E=n(43);n.d(e,"AxisHelper",function(){return E.a});var g=n(44);n.d(e,"GridHelper",function(){return g.a});var _=n(16);n.d(e,"Color",function(){return _.a});var A=n(7);n.d(e,"Utilities",function(){return A});var O=n(20);n.d(e,"Vector2",function(){return O.a});var R=n(4);n.d(e,"Vector3",function(){return R.a})},function(t,e,n){"use strict";function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],f=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*c+o*f,t[3]=i*c+a*f,t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new l.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.clone=function(t){var e=new l.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,e,n,r){var i=new l.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},e.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},e.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null},e.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=r,e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],c=s(n),f=a(n);return t[0]=r*f+o*c,t[1]=i*f+u*c,t[2]=r*-c+o*f,t[3]=i*-c+u*f,t},e.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t},e.fromRotation=function(t,e){var n=s(e),r=a(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return i(o(t[0],2)+o(t[1],2)+o(t[2],2)+o(t[3],2))},e.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=u,e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],h=e[3];return f(n-a)<=l.EPSILON*c(1,f(n),f(a))&&f(r-s)<=l.EPSILON*c(1,f(r),f(s))&&f(i-u)<=l.EPSILON*c(1,f(i),f(u))&&f(o-h)<=l.EPSILON*c(1,f(o),f(h))},e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t};var h=n(2),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(h);e.mul=r,e.sub=u},function(t,e,n){"use strict";function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],f=n[1],h=n[2],l=n[3],v=n[4],d=n[5];return t[0]=r*c+o*f,t[1]=i*c+a*f,t[2]=r*h+o*l,t[3]=i*h+a*l,t[4]=r*v+o*d+s,t[5]=i*v+a*d+u,t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new l.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.clone=function(t){var e=new l.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,e,n,r,i,o){var a=new l.ARRAY_TYPE(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a},e.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=r,e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],c=e[4],f=e[5],h=s(n),l=a(n);return t[0]=r*l+o*h,t[1]=i*l+u*h,t[2]=r*-h+o*l,t[3]=i*-h+u*l,t[4]=c,t[5]=f,t},e.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],f=n[1];return t[0]=r*c,t[1]=i*c,t[2]=o*f,t[3]=a*f,t[4]=s,t[5]=u,t},e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],f=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*c+o*f+s,t[5]=i*c+a*f+u,t},e.fromRotation=function(t,e){var n=s(e),r=a(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return i(o(t[0],2)+o(t[1],2)+o(t[2],2)+o(t[3],2)+o(t[4],2)+o(t[5],2)+1)},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},e.subtract=u,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=e[0],h=e[1],v=e[2],d=e[3],p=e[4],m=e[5];return f(n-u)<=l.EPSILON*c(1,f(n),f(u))&&f(r-h)<=l.EPSILON*c(1,f(r),f(h))&&f(i-v)<=l.EPSILON*c(1,f(i),f(v))&&f(o-d)<=l.EPSILON*c(1,f(o),f(d))&&f(a-p)<=l.EPSILON*c(1,f(a),f(p))&&f(s-m)<=l.EPSILON*c(1,f(s),f(m))};var h=n(2),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(h);e.mul=r,e.sub=u},function(t,e,n){"use strict";function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],h=e[8],l=e[9],v=e[10],d=e[11],p=e[12],m=e[13],b=e[14],y=e[15],x=n[0],E=n[1],g=n[2],_=n[3];return t[0]=x*r+E*s+g*h+_*p,t[1]=x*i+E*u+g*l+_*m,t[2]=x*o+E*c+g*v+_*b,t[3]=x*a+E*f+g*d+_*y,x=n[4],E=n[5],g=n[6],_=n[7],t[4]=x*r+E*s+g*h+_*p,t[5]=x*i+E*u+g*l+_*m,t[6]=x*o+E*c+g*v+_*b,t[7]=x*a+E*f+g*d+_*y,x=n[8],E=n[9],g=n[10],_=n[11],t[8]=x*r+E*s+g*h+_*p,t[9]=x*i+E*u+g*l+_*m,t[10]=x*o+E*c+g*v+_*b,t[11]=x*a+E*f+g*d+_*y,x=n[12],E=n[13],g=n[14],_=n[15],t[12]=x*r+E*s+g*h+_*p,t[13]=x*i+E*u+g*l+_*m,t[14]=x*o+E*c+g*v+_*b,t[15]=x*a+E*f+g*d+_*y,t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}var l=Math.tan;Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new d.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.clone=function(t){var e=new d.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.fromValues=function(t,e,n,r,i,o,a,s,u,c,f,h,l,v,p,m){var b=new d.ARRAY_TYPE(16);return b[0]=t,b[1]=e,b[2]=n,b[3]=r,b[4]=i,b[5]=o,b[6]=a,b[7]=s,b[8]=u,b[9]=c,b[10]=f,b[11]=h,b[12]=l,b[13]=v,b[14]=p,b[15]=m,b},e.set=function(t,e,n,r,i,o,a,s,u,c,f,h,l,v,d,p,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=f,t[10]=h,t[11]=l,t[12]=v,t[13]=d,t[14]=p,t[15]=m,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],h=e[9],l=e[10],v=e[11],d=e[12],p=e[13],m=e[14],b=e[15],y=n*s-r*a,x=n*u-i*a,E=n*c-o*a,g=r*u-i*s,_=r*c-o*s,A=i*c-o*u,O=f*p-h*d,R=f*m-l*d,P=f*b-v*d,w=h*m-l*p,M=h*b-v*p,T=l*b-v*m,I=y*T-x*M+E*w+g*P-_*R+A*O;return I?(I=1/I,t[0]=(s*T-u*M+c*w)*I,t[1]=(i*M-r*T-o*w)*I,t[2]=(p*A-m*_+b*g)*I,t[3]=(l*_-h*A-v*g)*I,t[4]=(u*P-a*T-c*R)*I,t[5]=(n*T-i*P+o*R)*I,t[6]=(m*E-d*A-b*x)*I,t[7]=(f*A-l*E+v*x)*I,t[8]=(a*M-s*P+c*O)*I,t[9]=(r*P-n*M-o*O)*I,t[10]=(d*_-p*E+b*y)*I,t[11]=(h*E-f*_-v*y)*I,t[12]=(s*R-a*w-u*O)*I,t[13]=(n*w-r*R+i*O)*I,t[14]=(p*x-d*g-m*y)*I,t[15]=(f*g-h*x+l*y)*I,t):null},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],h=e[9],l=e[10],v=e[11],d=e[12],p=e[13],m=e[14],b=e[15];return t[0]=s*(l*b-v*m)-h*(u*b-c*m)+p*(u*v-c*l),t[1]=-(r*(l*b-v*m)-h*(i*b-o*m)+p*(i*v-o*l)),t[2]=r*(u*b-c*m)-s*(i*b-o*m)+p*(i*c-o*u),t[3]=-(r*(u*v-c*l)-s*(i*v-o*l)+h*(i*c-o*u)),t[4]=-(a*(l*b-v*m)-f*(u*b-c*m)+d*(u*v-c*l)),t[5]=n*(l*b-v*m)-f*(i*b-o*m)+d*(i*v-o*l),t[6]=-(n*(u*b-c*m)-a*(i*b-o*m)+d*(i*c-o*u)),t[7]=n*(u*v-c*l)-a*(i*v-o*l)+f*(i*c-o*u),t[8]=a*(h*b-v*p)-f*(s*b-c*p)+d*(s*v-c*h),t[9]=-(n*(h*b-v*p)-f*(r*b-o*p)+d*(r*v-o*h)),t[10]=n*(s*b-c*p)-a*(r*b-o*p)+d*(r*c-o*s),t[11]=-(n*(s*v-c*h)-a*(r*v-o*h)+f*(r*c-o*s)),t[12]=-(a*(h*m-l*p)-f*(s*m-u*p)+d*(s*l-u*h)),t[13]=n*(h*m-l*p)-f*(r*m-i*p)+d*(r*l-i*h),t[14]=-(n*(s*m-u*p)-a*(r*m-i*p)+d*(r*u-i*s)),t[15]=n*(s*l-u*h)-a*(r*l-i*h)+f*(r*u-i*s),t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],f=t[9],h=t[10],l=t[11],v=t[12],d=t[13],p=t[14],m=t[15];return(e*a-n*o)*(h*m-l*p)-(e*s-r*o)*(f*m-l*d)+(e*u-i*o)*(f*p-h*d)+(n*s-r*a)*(c*m-l*v)-(n*u-i*a)*(c*p-h*v)+(r*u-i*s)*(c*d-f*v)},e.multiply=r,e.translate=function(t,e,n){var r,i,o,a,s,u,c,f,h,l,v,d,p=n[0],m=n[1],b=n[2];return e===t?(t[12]=e[0]*p+e[4]*m+e[8]*b+e[12],t[13]=e[1]*p+e[5]*m+e[9]*b+e[13],t[14]=e[2]*p+e[6]*m+e[10]*b+e[14],t[15]=e[3]*p+e[7]*m+e[11]*b+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],h=e[8],l=e[9],v=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=f,t[8]=h,t[9]=l,t[10]=v,t[11]=d,t[12]=r*p+s*m+h*b+e[12],t[13]=i*p+u*m+l*b+e[13],t[14]=o*p+c*m+v*b+e[14],t[15]=a*p+f*m+d*b+e[15]),t},e.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,n,r){var o,u,c,h,l,v,p,m,b,y,x,E,g,_,A,O,R,P,w,M,T,I,S,L,N=r[0],j=r[1],D=r[2],V=i(N*N+j*j+D*D);return f(V)<d.EPSILON?null:(V=1/V,N*=V,j*=V,D*=V,o=s(n),u=a(n),c=1-u,h=e[0],l=e[1],v=e[2],p=e[3],m=e[4],b=e[5],y=e[6],x=e[7],E=e[8],g=e[9],_=e[10],A=e[11],O=N*N*c+u,R=j*N*c+D*o,P=D*N*c-j*o,w=N*j*c-D*o,M=j*j*c+u,T=D*j*c+N*o,I=N*D*c+j*o,S=j*D*c-N*o,L=D*D*c+u,t[0]=h*O+m*R+E*P,t[1]=l*O+b*R+g*P,t[2]=v*O+y*R+_*P,t[3]=p*O+x*R+A*P,t[4]=h*w+m*M+E*T,t[5]=l*w+b*M+g*T,t[6]=v*w+y*M+_*T,t[7]=p*w+x*M+A*T,t[8]=h*I+m*S+E*L,t[9]=l*I+b*S+g*L,t[10]=v*I+y*S+_*L,t[11]=p*I+x*S+A*L,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},e.rotateX=function(t,e,n){var r=s(n),i=a(n),o=e[4],u=e[5],c=e[6],f=e[7],h=e[8],l=e[9],v=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+h*r,t[5]=u*i+l*r,t[6]=c*i+v*r,t[7]=f*i+d*r,t[8]=h*i-o*r,t[9]=l*i-u*r,t[10]=v*i-c*r,t[11]=d*i-f*r,t},e.rotateY=function(t,e,n){var r=s(n),i=a(n),o=e[0],u=e[1],c=e[2],f=e[3],h=e[8],l=e[9],v=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-h*r,t[1]=u*i-l*r,t[2]=c*i-v*r,t[3]=f*i-d*r,t[8]=o*r+h*i,t[9]=u*r+l*i,t[10]=c*r+v*i,t[11]=f*r+d*i,t},e.rotateZ=function(t,e,n){var r=s(n),i=a(n),o=e[0],u=e[1],c=e[2],f=e[3],h=e[4],l=e[5],v=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+h*r,t[1]=u*i+l*r,t[2]=c*i+v*r,t[3]=f*i+d*r,t[4]=h*i-o*r,t[5]=l*i-u*r,t[6]=v*i-c*r,t[7]=d*i-f*r,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,n){var r,o,u,c=n[0],h=n[1],l=n[2],v=i(c*c+h*h+l*l);return f(v)<d.EPSILON?null:(v=1/v,c*=v,h*=v,l*=v,r=s(e),o=a(e),u=1-o,t[0]=c*c*u+o,t[1]=h*c*u+l*r,t[2]=l*c*u-h*r,t[3]=0,t[4]=c*h*u-l*r,t[5]=h*h*u+o,t[6]=l*h*u+c*r,t[7]=0,t[8]=c*l*u+h*r,t[9]=h*l*u-c*r,t[10]=l*l*u+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromXRotation=function(t,e){var n=s(e),r=a(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){var n=s(e),r=a(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){var n=s(e),r=a(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,c=o+o,f=r*s,h=r*u,l=r*c,v=i*u,d=i*c,p=o*c,m=a*s,b=a*u,y=a*c;return t[0]=1-(v+p),t[1]=h+y,t[2]=l-b,t[3]=0,t[4]=h-y,t[5]=1-(f+p),t[6]=d+m,t[7]=0,t[8]=l+b,t[9]=d-m,t[10]=1-(f+v),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[4],s=e[5],u=e[6],c=e[8],f=e[9],h=e[10];return t[0]=i(n*n+r*r+o*o),t[1]=i(a*a+s*s+u*u),t[2]=i(c*c+f*f+h*h),t},e.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return 0<n?(r=2*i(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*i(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*i(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*i(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},e.fromRotationTranslationScale=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,c=o+o,f=a+a,h=i*u,l=i*c,v=i*f,d=o*c,p=o*f,m=a*f,b=s*u,y=s*c,x=s*f,E=r[0],g=r[1],_=r[2];return t[0]=(1-(d+m))*E,t[1]=(l+x)*E,t[2]=(v-y)*E,t[3]=0,t[4]=(l-x)*g,t[5]=(1-(h+m))*g,t[6]=(p+b)*g,t[7]=0,t[8]=(v+y)*_,t[9]=(p-b)*_,t[10]=(1-(h+d))*_,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],c=o+o,f=a+a,h=s+s,l=o*c,v=o*f,d=o*h,p=a*f,m=a*h,b=s*h,y=u*c,x=u*f,E=u*h,g=r[0],_=r[1],A=r[2],O=i[0],R=i[1],P=i[2];return t[0]=(1-(p+b))*g,t[1]=(v+E)*g,t[2]=(d-x)*g,t[3]=0,t[4]=(v-E)*_,t[5]=(1-(l+b))*_,t[6]=(m+y)*_,t[7]=0,t[8]=(d+x)*A,t[9]=(m-y)*A,t[10]=(1-(l+p))*A,t[11]=0,t[12]=n[0]+O-(t[0]*O+t[4]*R+t[8]*P),t[13]=n[1]+R-(t[1]*O+t[5]*R+t[9]*P),t[14]=n[2]+P-(t[2]*O+t[6]*R+t[10]*P),t[15]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,f=r*a,h=r*s,l=i*a,v=i*s,d=i*u,p=o*a,m=o*s,b=o*u;return t[0]=1-h-d,t[1]=f+b,t[2]=l-m,t[3]=0,t[4]=f-b,t[5]=1-c-d,t[6]=v+p,t[7]=0,t[8]=l+m,t[9]=v-p,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t},e.perspective=function(t,e,n,r,i){var o=1/l(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},e.perspectiveFromFieldOfView=function(t,e,n,r){var i=l(e.upDegrees*h/180),o=l(e.downDegrees*h/180),a=l(e.leftDegrees*h/180),s=l(e.rightDegrees*h/180),u=2/(a+s),c=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},e.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*c,t[15]=1,t},e.lookAt=function(t,e,n,r){var o,a,s,u,c,h,l,v,p,m,b=e[0],y=e[1],x=e[2],E=r[0],g=r[1],_=r[2],A=n[0],O=n[1],R=n[2];return f(b-A)<d.EPSILON&&f(y-O)<d.EPSILON&&f(x-R)<d.EPSILON?mat4.identity(t):(l=b-A,v=y-O,p=x-R,m=1/i(l*l+v*v+p*p),l*=m,v*=m,p*=m,o=g*p-_*v,a=_*l-E*p,s=E*v-g*l,m=i(o*o+a*a+s*s),m?(m=1/m,o*=m,a*=m,s*=m):(o=0,a=0,s=0),u=v*s-p*a,c=p*o-l*s,h=l*a-v*o,m=i(u*u+c*c+h*h),m?(m=1/m,u*=m,c*=m,h*=m):(u=0,c=0,h=0),t[0]=o,t[1]=u,t[2]=l,t[3]=0,t[4]=a,t[5]=c,t[6]=v,t[7]=0,t[8]=s,t[9]=h,t[10]=p,t[11]=0,t[12]=-(o*b+a*y+s*x),t[13]=-(u*b+c*y+h*x),t[14]=-(l*b+v*y+p*x),t[15]=1,t)},e.targetTo=function(t,e,n,r){var o=e[0],a=e[1],s=e[2],u=r[0],c=r[1],f=r[2],h=o-n[0],l=a-n[1],v=s-n[2],d=h*h+l*l+v*v;0<d&&(d=1/i(d),h*=d,l*=d,v*=d);var p=c*v-f*l,m=f*h-u*v,b=u*l-c*h;return t[0]=p,t[1]=m,t[2]=b,t[3]=0,t[4]=l*b-v*m,t[5]=v*p-h*b,t[6]=h*m-l*p,t[7]=0,t[8]=h,t[9]=l,t[10]=v,t[11]=0,t[12]=o,t[13]=a,t[14]=s,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return i(o(t[0],2)+o(t[1],2)+o(t[2],2)+o(t[3],2)+o(t[4],2)+o(t[5],2)+o(t[6],2)+o(t[7],2)+o(t[8],2)+o(t[9],2)+o(t[10],2)+o(t[11],2)+o(t[12],2)+o(t[13],2)+o(t[14],2)+o(t[15],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},e.subtract=u,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],h=t[7],l=t[8],v=t[9],p=t[10],m=t[11],b=t[12],y=t[13],x=t[14],E=t[15],g=e[0],_=e[1],A=e[2],O=e[3],R=e[4],P=e[5],w=e[6],M=e[7],T=e[8],I=e[9],S=e[10],L=e[11],N=e[12],j=e[13],D=e[14],V=e[15];return f(n-g)<=d.EPSILON*c(1,f(n),f(g))&&f(r-_)<=d.EPSILON*c(1,f(r),f(_))&&f(i-A)<=d.EPSILON*c(1,f(i),f(A))&&f(o-O)<=d.EPSILON*c(1,f(o),f(O))&&f(a-R)<=d.EPSILON*c(1,f(a),f(R))&&f(s-P)<=d.EPSILON*c(1,f(s),f(P))&&f(u-w)<=d.EPSILON*c(1,f(u),f(w))&&f(h-M)<=d.EPSILON*c(1,f(h),f(M))&&f(l-T)<=d.EPSILON*c(1,f(l),f(T))&&f(v-I)<=d.EPSILON*c(1,f(v),f(I))&&f(p-S)<=d.EPSILON*c(1,f(p),f(S))&&f(m-L)<=d.EPSILON*c(1,f(m),f(L))&&f(b-N)<=d.EPSILON*c(1,f(b),f(N))&&f(y-j)<=d.EPSILON*c(1,f(y),f(j))&&f(x-D)<=d.EPSILON*c(1,f(x),f(D))&&f(E-V)<=d.EPSILON*c(1,f(E),f(V))};var v=n(2),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(v);e.mul=r,e.sub=u},function(e,n,r){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(){var t=new m.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function c(t,e,n){n*=.5;var r=s(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a(n),t}function l(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],f=n[3];return t[0]=r*f+a*s+i*c-o*u,t[1]=i*f+a*u+o*s-r*c,t[2]=o*f+a*c+r*u-i*s,t[3]=a*f-r*s-i*u-o*c,t}function v(e,n,r,i){var o,a,u,c,f,h=n[0],l=n[1],v=n[2],d=n[3],p=r[0],m=r[1],b=r[2],y=r[3];return a=h*p+l*m+v*b+d*y,0>a&&(a=-a,p=-p,m=-m,b=-b,y=-y),1e-6<1-a?(o=t(a),u=s(o),c=s((1-i)*o)/u,f=s(i*o)/u):(c=1-i,f=i),e[0]=c*h+f*p,e[1]=c*l+f*m,e[2]=c*v+f*b,e[3]=c*d+f*y,e}function d(t,e){var n,r=e[0]+e[4]+e[8];if(0<r)n=i(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var a=(o+1)%3,s=(o+2)%3;n=i(e[3*o+o]-e[3*a+a]-e[3*s+s]+1),t[o]=.5*n,n=.5/n,t[3]=(e[3*a+s]-e[3*s+a])*n,t[a]=(e[3*a+o]+e[3*o+a])*n,t[s]=(e[3*s+o]+e[3*o+s])*n}return t}Object.defineProperty(n,"__esModule",{value:!0}),n.setAxes=n.sqlerp=n.rotationTo=n.equals=n.exactEquals=n.normalize=n.sqrLen=n.squaredLength=n.len=n.length=n.lerp=n.dot=n.scale=n.mul=n.add=n.set=n.copy=n.fromValues=n.clone=void 0,n.create=u,n.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},n.setAxisAngle=c,n.getAxisAngle=function(e,n){var r=2*t(n[3]),i=s(r/2);return 0==i?(e[0]=1,e[1]=0,e[2]=0):(e[0]=n[0]/i,e[1]=n[1]/i,e[2]=n[2]/i),r},n.multiply=l,n.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],u=e[3],c=s(n),f=a(n);return t[0]=r*f+u*c,t[1]=i*f+o*c,t[2]=o*f-i*c,t[3]=u*f-r*c,t},n.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],u=e[3],c=s(n),f=a(n);return t[0]=r*f-o*c,t[1]=i*f+u*c,t[2]=o*f+r*c,t[3]=u*f-i*c,t},n.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],u=e[3],c=s(n),f=a(n);return t[0]=r*f+i*c,t[1]=i*f-r*c,t[2]=o*f+u*c,t[3]=u*f-o*c,t},n.calculateW=function(t,e){var n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=i(f(1-n*n-r*r-o*o)),t},n.slerp=v,n.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t},n.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},n.fromMat3=d,n.fromEuler=function(t,e,n,r){var i=.5*h/180;e*=i,n*=i,r*=i;var o=s(e),u=a(e),c=s(n),f=a(n),l=s(r),v=a(r);return t[0]=o*f*v-u*c*l,t[1]=u*c*v+o*f*l,t[2]=u*f*l-o*c*v,t[3]=u*f*v+o*c*l,t},n.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var p=r(2),m=o(p),b=r(12),y=o(b),x=r(13),E=o(x),g=r(14),_=o(g),A=(n.clone=_.clone,n.fromValues=_.fromValues,n.copy=_.copy,n.set=_.set,n.add=_.add,n.mul=l,n.scale=_.scale,n.dot=_.dot,n.lerp=_.lerp,n.length=_.length),O=(n.len=A,n.squaredLength=_.squaredLength),R=(n.sqrLen=O,n.normalize=_.normalize);n.exactEquals=_.exactEquals,n.equals=_.equals,n.rotationTo=function(){var t=E.create(),e=E.fromValues(1,0,0),n=E.fromValues(0,1,0);return function(r,i,o){var a=E.dot(i,o);return-.999999>a?(E.cross(t,e,i),1e-6>E.len(t)&&E.cross(t,n,i),E.normalize(t,t),c(r,t,Math.PI),r):.999999<a?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(E.cross(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+a,R(r,r))}}(),n.sqlerp=function(){var t=u(),e=u();return function(n,r,i,o,a,s){return v(t,r,a,s),v(e,i,o,s),v(n,t,e,2*s*(1-s)),n}}(),n.setAxes=function(){var t=y.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],R(e,d(e,t))}}()},function(t,o,l){"use strict";function v(){var t=new _.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function d(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function p(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function m(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1];return i(n*n+r*r)}function y(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function x(t){var e=t[0],n=t[1];return i(e*e+n*n)}function E(t){var e=t[0],n=t[1];return e*e+n*n}Object.defineProperty(o,"__esModule",{value:!0}),o.forEach=o.sqrLen=o.sqrDist=o.dist=o.div=o.mul=o.sub=o.len=void 0,o.create=v,o.clone=function(t){var e=new _.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},o.fromValues=function(t,e){var n=new _.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},o.set=function(t,e,n){return t[0]=e,t[1]=n,t},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},o.subtract=d,o.multiply=p,o.divide=m,o.ceil=function(t,e){return t[0]=r(e[0]),t[1]=r(e[1]),t},o.floor=function(t,e){return t[0]=n(e[0]),t[1]=n(e[1]),t},o.min=function(t,e,n){return t[0]=u(e[0],n[0]),t[1]=u(e[1],n[1]),t},o.max=function(t,e,n){return t[0]=c(e[0],n[0]),t[1]=c(e[1],n[1]),t},o.round=function(t,n){return t[0]=e(n[0]),t[1]=e(n[1]),t},o.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},o.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},o.distance=b,o.squaredDistance=y,o.length=x,o.squaredLength=E,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},o.normalize=function(t,e){var n=e[0],r=e[1],o=n*n+r*r;return 0<o&&(o=1/i(o),t[0]=e[0]*o,t[1]=e[1]*o),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},o.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},o.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},o.random=function(t,e){e=e||1;var n=2*_.RANDOM()*h;return t[0]=a(n)*e,t[1]=s(n)*e,t},o.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},o.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},o.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},o.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},o.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o.equals=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return f(n-i)<=_.EPSILON*c(1,f(n),f(i))&&f(r-o)<=_.EPSILON*c(1,f(r),f(o))};var g=l(2),_=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(g);o.len=x,o.sub=d,o.mul=p,o.div=m,o.dist=b,o.sqrDist=y,o.sqrLen=E,o.forEach=function(){var t=v();return function(e,n,r,i,o,a){var s,c;for(n||(n=2),r||(r=0),c=i?u(i*n+r,e.length):e.length,s=r;s<c;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}()},function(t,e,n){"use strict";var r=n(1),i=(n.n(r),n(8)),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.left=e.left||-1,n.right=e.right||1,n.bottom=e.bottom||-1,n.top=e.top||1,n.isOrthographicCamera=!0,n}return o(e,t),e.prototype.updateProjectionMatrix=function(){r.mat4.ortho(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far)},e}(i.a);e.a=a},function(t,e,n){"use strict";var r=n(1),i=(n.n(r),n(8)),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){var n=t.call(this,e)||this;return n.isPespectiveCamera=!0,n}return o(e,t),e.prototype.updateProjectionMatrix=function(){r.mat4.perspective(this.projectionMatrix,this.fieldOfView,this.aspectRatio,this.near,this.far)},e}(i.a);e.a=a},function(t,e,n){"use strict";var r,i=n(0),o=n(6),a=function(){function t(){r=i.get(),this.program=r.createProgram(),this.created=!1,this.attributeLocations={}}return t.prototype.link=function(t,e){if(this.compiledVertexShader=this.compile("vertex",t),this.compiledFragmentShader=this.compile("fragment",e),this.compiledVertexShader&&this.compiledFragmentShader){if(r.attachShader(this.program,this.compiledVertexShader),r.attachShader(this.program,this.compiledFragmentShader),r.linkProgram(this.program),r.validateProgram(this.program),!r.getProgramParameter(this.program,r.LINK_STATUS)){var n=r.getProgramInfoLog(this.program);Object(o.a)("Failed to initialise shaders: "+n)}this.created=!0}},t.prototype.compile=function(t,e){r=i.get();var n;switch(t){case"vertex":n=r.createShader(r.VERTEX_SHADER);break;case"fragment":n=r.createShader(r.FRAGMENT_SHADER)}return r.shaderSource(n,e),r.compileShader(n),r.getShaderParameter(n,r.COMPILE_STATUS)?n:(Object(o.a)("Failed to compile shader: "+r.getShaderInfoLog(n)),!1)},t.prototype.setAttributeLocation=function(t){this.created&&(r=i.get(),this.attributeLocations[t]=r.getAttribLocation(this.program,t),r.enableVertexAttribArray(this.attributeLocations[t]))},t.prototype.setAttributePointer=function(t,e){r=i.get(),r.vertexAttribPointer(this.attributeLocations[t],e,r.FLOAT,!1,0,0)},t.prototype.setAttributeInstancedPointer=function(t,e){r=i.get(),r.vertexAttribPointer(this.attributeLocations[t],e,r.FLOAT,!1,0,0)},t.prototype.setUniformLocation=function(t,e){this.created&&(r=i.get(),t[e].location=r.getUniformLocation(this.program,e))},t.prototype.bind=function(){r=i.get(),r.useProgram(this.program)},t.prototype.dispose=function(){var t=this;r=i.get();var e;Object.keys(this.attributeLocations).forEach(function(n){e=t.attributeLocations[n],r.disableVertexAttribArray(e)}),r.detachShader(this.program,this.compiledVertexShader),r.detachShader(this.program,this.compiledFragmentShader),r.deleteProgram(this.program)},t}();e.a=a},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="\n    #HOOK_PRECISION\n    #HOOK_DEFINES\n\n    // Color\n    varying vec3 vDiffuse;\n\n    // Position\n    varying vec3 vPosition;\n\n    // Normal\n    #ifdef normals\n    varying vec3 vNormal;\n    #endif\n\n    // Uv\n    #ifdef uv\n    varying vec3 vUv;\n    #endif\n\n    #HOOK_FRAGMENT_PRE\n\n    void main() {\n        vec3 color = vDiffuse;\n\n        #ifdef normals\n        vec3 normal = normalize(vNormal);\n        #endif\n\n        #HOOK_FRAGMENT_MAIN\n\n        gl_FragColor = vec4(color.rgb, 1.0);\n\n        #HOOK_FRAGMENT_END\n    }\n"},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="\n    #HOOK_PRECISION\n    #HOOK_DEFINES\n\n    // Position\n    uniform mat4 uProjectionMatrix;\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uModelMatrix;\n    uniform mat3 uNormalMatrix;\n    attribute vec3 aVertexPosition;\n    varying vec3 vPosition;\n    varying vec4 vWorldPosition;\n\n    // Camera\n    uniform vec3 uCameraPosition;\n\n    #ifdef vertexColors\n    attribute vec3 aVertexColor;\n    #endif\n\n    // Color\n    uniform vec3 uDiffuse;\n    varying vec3 vDiffuse;\n\n    // Normal\n    #ifdef normals\n    attribute vec3 aVertexNormal;\n    varying vec3 vNormal;\n    #endif\n\n    // Uv\n    #ifdef uv\n    attribute vec2 aUv;\n    varying vec2 vUv;\n    #endif\n\n    #HOOK_VERTEX_PRE\n\n    void main() {\n        vDiffuse = uDiffuse;\n\n        // Override for custom positioning\n        vec3 transformed = vec3(0.0);\n\n        #ifdef vertexColors\n        vDiffuse = aVertexColor;\n        #endif\n\n        #ifdef uv\n        vUv = aUv;\n        #endif\n\n        #HOOK_VERTEX_MAIN\n\n        #ifdef normals\n        vNormal = uNormalMatrix * aVertexNormal;\n        #endif\n\n        // Vertex position + offset\n        vPosition = aVertexPosition + transformed;\n\n        // Calculate world position of vertex with transformed\n        vWorldPosition = uModelMatrix * vec4(aVertexPosition + transformed, 1.0);\n\n        gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(vPosition, 1.0);\n\n        #HOOK_VERTEX_END\n    }\n"},function(t,e,n){"use strict";var r,i=n(3),o=n(0),a=n(5),s=n(6),c=n(33),f=function(){function t(t){this.width=a.RENDERER_DEFAULT_WIDTH,this.height=a.RENDERER_DEFAULT_HEIGHT,this.aspectRatio=a.RENDERER_DEFAULT_ASPECT_RATIO,this.preserveDrawingBuffer=!1,this.pixelRatio=u(window.devicePixelRatio,a.MAX_DEVICE_PIXEL_RATIO),this.autoClear=!0,this.clearColor={r:0,g:0,b:0,a:1},Object.assign(this,t),this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height;var e={preserveDrawingBuffer:this.preserveDrawingBuffer};if(!Object(c.a)())return void Object(s.a)("WebGL is not supported");var n=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e);o.set(n),r=o.get(),i.set(r),this.viewport={x:0,y:0,width:r.drawingBufferWidth,height:r.drawingBufferHeight},this.setClearColor(),r.enable(r.DEPTH_TEST)}return t.prototype.setClearColor=function(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),this.clearColor.r=t,this.clearColor.g=e,this.clearColor.b=n,this.clearColor.a=r},t.prototype.setSize=function(t,e){var n=t*this.pixelRatio,r=e*this.pixelRatio;(n!==this.width||r!==this.height)&&(this.width=t*this.pixelRatio,this.height=e*this.pixelRatio,this.aspectRatio=this.width/this.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.setViewport(0,0,t,e))},t.prototype.setDevicePixelRatio=function(t){void 0===t&&(t=1),this.pixelRatio=u(t,a.MAX_DEVICE_PIXEL_RATIO)||1,this.setSize(this.width,this.height)},t.prototype.setScissorTest=function(t){void 0===t&&(t=!1),t?r.enable(r.SCISSOR_TEST):r.disable(r.SCISSOR_TEST)},t.prototype.setScissor=function(t,e,n,i){r.scissor(t*this.pixelRatio,e*this.pixelRatio,n*this.pixelRatio,i*this.pixelRatio)},t.prototype.setViewport=function(t,e,n,r){this.viewport.x=t*this.pixelRatio,this.viewport.y=e*this.pixelRatio,this.viewport.width=n*this.pixelRatio,this.viewport.height=r*this.pixelRatio},t.prototype.render=function(t,e){r=o.get(),r.viewport(this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height),r.clearColor(this.clearColor.r,this.clearColor.g,this.clearColor.b,this.clearColor.a),this.autoClear&&r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),t.update(),t.objects.forEach(function(t){t.isInstanced?t.drawInstance(e):t.draw(e)})},t}();e.a=f},function(t,e){"use strict";e.a=function(){try{var t=WebGLRenderingContext,e=document.createElement("canvas"),n=e.getContext("webgl")||e.getContext("experimental-webgl");return void 0!==t&&{webgl:!!n}}catch(t){return!1}}},function(t,e){"use strict";var n=function(){function t(){this.objects=[]}return t.prototype.add=function(t){this.objects.push(t)},t.prototype.remove=function(t,e){void 0===e&&(e=!1);var n=this.objects.indexOf(t);-1!==n&&(this.objects.splice(n,1),e&&(t.dispose(),t=void 0))},t.prototype.update=function(){},t}();e.a=n},function(t,e,n){"use strict";var r,i=n(0),o=n(36),a=n(37),s=n(6),u=n(38),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=t.call(this)||this;n.onTextureLoaded=function(t){n.image=t,n.update(n.image),n.emit("loaded")},n.onTextureError=function(t){Object(s.a)(t),n.emit("error",t)},r=i.get(),n.src=null,n.magFilter=r.NEAREST,n.minFilter=r.NEAREST,n.wrapS=r.CLAMP_TO_EDGE,n.wrapT=r.CLAMP_TO_EDGE,Object.assign(n,e);var o=Object(a.a)(1,1).canvas;return n.texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,n.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,n.magFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n.minFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,n.wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,n.wrapT),r.bindTexture(r.TEXTURE_2D,null),n.src&&n.load(n.src),n}return c(e,t),e.prototype.load=function(t){Object(o.a)(t).then(this.onTextureLoaded).catch(this.onTextureError)},e.prototype.updateImage=function(t){this.src=t||this.src,this.load(this.src)},e.prototype.update=function(t){r=i.get(),r.bindTexture(r.TEXTURE_2D,this.texture),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.bindTexture(r.TEXTURE_2D,null)},e.prototype.dispose=function(){r=i.get(),r.deleteTexture(this.texture),this.texture=null},e}(u.a);e.a=f},function(t,e){"use strict";e.a=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(){n("Failed to load "+t)},r.src=t})}},function(t,e){"use strict";e.a=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=t,n.height=e,{canvas:n,context:r}}},function(t,e){"use strict";var n=function(){function t(){}return t.prototype.on=function(t,e){this.validate(e),this.init(t).push(e)},t.prototype.off=function(t,e){var n=this.init(t);n.splice(n.indexOf(e),1)},t.prototype.once=function(t,e){this.validate(e);var n=function(){this.off(t,n),e.apply(this,arguments)};this.on(t,n)},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.init(t).slice(0);for(var i in r)r[i].apply(this,[].slice.call(arguments,1))},t.prototype.validate=function(t){if(!(t&&t instanceof Function))throw new Error(t+" is not a Function")},t.prototype.init=function(t){var e=this.listeners||(this.listeners=[]);return e[t]||(e[t]=[])},t}();e.a=n},function(t,e,n){"use strict";var r=n(40),i=n(7),o=n(4),u="onwheel"in window,h="onmousewheel"in window,l="MODE_PAN",v=new o.a(0,1,0),d=(r.a,function(){function t(t,e){var n=Math.atan2;this.camera=t,this.element=e,this.rotationSpeed=5,this.panSpeed=10,this.zoom=!0,this.pan=!0,this.easing=.1,this.zoomMin=.1,this.zoomMax=1/0,this.radius=c(t.position.x,t.position.z),this.radiusOffset=0,this.defaultRadius=c(t.position.x,t.position.z),this.rotationX=n(t.position.y-0,this.radius-0),this.rotationY=n(t.position.z-0,t.position.x-0),this.defaultRotationX=n(t.position.y-0,this.radius-0),this.defaultRotationY=n(t.position.z-0,t.position.x-0),this.x=s(this.rotationY)*(this.radius*a(this.rotationX)),this.y=this.radius*s(this.rotationX),this.z=a(this.rotationY)*(this.radius*a(this.rotationX)),this.offsetX=0,this.offsetY=0,this.offsetPanX=0,this.offsetPanY=0,this.target=new o.a,this.targetOffset=new o.a,this.direction=new o.a,this.width=window.innerWidth,this.height=window.innerHeight,this.addListeners()}return t.prototype.onKeypress=function(t){switch(t.which){case 114:case 82:this.reset()}},t.prototype.onWheel=function(t){if(this.zoom){var e=t.deltaY?t.deltaY:t.detail?t.detail:0;this.radius+=e/500*3,this.radius=Object(i.clamp)(this.radius,this.zoomMin,this.zoomMax),this.update()}},t.prototype.onContextMenu=function(t){t.preventDefault()},t.prototype.onDown=function(t){switch(t.which){case 3:this.mode=l,this.offsetX=this.target.x,this.offsetY=this.target.y;break;default:this.mode="MODE_DRAG",this.offsetX=this.rotationX,this.offsetY=this.rotationY}this.startX=t.pageY/this.height,this.startY=t.pageX/this.width,this.targetOffset.copy(this.target),this.radiusOffset=this.radius,this.isDown=!0},t.prototype.onMove=function(t){if(this.isDown){switch(this.mode){case l:if(!this.pan)return;var e=t.pageY/this.height,n=t.pageX/this.width;this.direction.copy(this.camera.position).subtract(this.target).normalize();var o=this.direction.cross(v),a=this.targetOffset.x+-(this.startY-n)*this.panSpeed*o.x,s=this.targetOffset.y+-(this.startX-e)*this.panSpeed,u=this.targetOffset.z+-(this.startY-n)*this.panSpeed*o.z;this.target.set(a,s,u);break;default:var e=t.pageY/this.height,n=t.pageX/this.width;this.rotationX=this.offsetX+-(this.startX-e)*this.rotationSpeed,this.rotationY=this.offsetY+(this.startY-n)*this.rotationSpeed,this.rotationX=Object(i.clamp)(this.rotationX,-r.b,r.b)}this.update()}},t.prototype.onUp=function(){this.isDown=!1},t.prototype.update=function(){var t=s(this.rotationY)*(this.radius*a(this.rotationX)),e=this.radius*s(this.rotationX),n=a(this.rotationY)*(this.radius*a(this.rotationX));this.x+=(t-this.x)*this.easing,this.y+=(e-this.y)*this.easing,this.z+=(n-this.z)*this.easing,f(this.x-t)<r.a&&(this.x=t),f(this.y-e)<r.a&&(this.y=e),f(this.z-n)<r.a&&(this.z=n),this.camera.position.set(this.x,this.y,this.z).add(this.target),this.camera.lookAt(this.target.x,this.target.y,this.target.z)},t.prototype.reset=function(){this.target.set(0,0,0),this.rotationX=this.defaultRotationX,this.rotationY=this.defaultRotationY,this.radius=this.defaultRadius,this.update()},t.prototype.addListeners=function(){var t=this;window.addEventListener("keypress",function(e){return t.onKeypress(e)},!1),this.element.addEventListener("contextmenu",function(e){return t.onContextMenu(e)},!1),u?window.addEventListener("wheel",function(e){return t.onWheel(e)}):h&&window.addEventListener("mousewheel",function(e){return t.onWheel(e)}),this.element.addEventListener("mousedown",function(e){return t.onDown(e)},!1),this.element.addEventListener("mousemove",function(e){return t.onMove(e)},!1),this.element.addEventListener("mouseup",function(e){return t.onUp(e)},!1)},t.prototype.dispose=function(){var t=this;window.removeEventListener("keypress",function(e){return t.onKeypress(e)}),this.element.removeEventListener("contextmenu",function(e){return t.onContextMenu(e)}),u?window.addEventListener("wheel",function(e){return t.onWheel(e)}):h&&window.addEventListener("mousewheel",function(e){return t.onWheel(e)}),this.element.removeEventListener("mousedown",function(e){return t.onDown(e)},!1),this.element.removeEventListener("mousemove",function(e){return t.onMove(e)},!1),this.element.removeEventListener("mouseup",function(e){return t.onUp(e)},!1),this.camera=null,this.element=null},t}());e.a=d},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=1e-6,i=1.5707963267948966},function(t,e,n){"use strict";var r=n(1),i=(n.n(r),n(4)),o=r.vec3.create(),a=r.vec3.create(),s=function(){function t(t,e,n,r,o,a){this.indices=[t,e,n],this.vertices=[r,o,a],this.uvs=[t,e,n],this.normal=new i.a,this.updateFaceNormal()}return t.prototype.updateFaceNormal=function(){r.vec3.set(o,0,0,0),r.vec3.set(a,0,0,0),r.vec3.subtract(o,this.vertices[2].v,this.vertices[1].v),r.vec3.subtract(a,this.vertices[0].v,this.vertices[1].v),r.vec3.cross(o,o,a),r.vec3.normalize(o,o),this.normal.set(o[0],o[1],o[2])},t}();e.a=s},function(t,e){"use strict";e.a=function(t){return t.reduce(function(t,e){return t.concat(e)},[])}},function(t,e,n){"use strict";var r,i=n(3),o=n(0),a=n(9),s=n(10),u=n(11),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(){return"\n    precision "+i.capabilities.precision+" float;\n\n    varying vec3 vColor;\n\n\tvoid main(void){\n\t\tgl_FragColor = vec4(vColor, 1.0);\n\t}\n"},h=function(t){function e(e){var n=[];n=n.concat([0,0,0,e,0,0]),n=n.concat([0,0,0,0,e,0]),n=n.concat([0,0,0,0,0,e]);var r=new Float32Array([1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,1]);return t.call(this,new Float32Array(n),void 0,void 0,void 0,r)||this}return c(e,t),e}(u.a),l=function(t){function e(e){void 0===e&&(e=1);var n=f();return t.call(this,new h(e),new a.a({name:"AxisHelper",vertexShader:"\n\tattribute vec3 aVertexPosition;\n\tattribute vec3 aVertexColor;\n\n    uniform mat4 uProjectionMatrix;\n\tuniform mat4 uModelViewMatrix;\n\n    varying vec3 vColor;\n\n    void main(void){\n\t\tvColor = aVertexColor;\n\t\tgl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aVertexPosition, 1.0);\n\t}\n",fragmentShader:n}))||this}return c(e,t),e.prototype.draw=function(t){this.visible&&(r=o.get(),this.updateMatrix(t),this.material.program.bind(),this.material.setUniforms(t.projectionMatrix,this.modelViewMatrix,this.modelMatrix,t),i.extensions.vertexArrayObjectExtension?this.vertexArrayObject.bind():(this.bindAttributes(),this.bindAttributesInstanced(),this.bindIndexBuffer()),r.drawArrays(r.LINES,0,this.geometry.attributes.aVertexPosition.numItems),i.extensions.vertexArrayObjectExtension&&this.vertexArrayObject.unbind())},e}(s.a);e.a=l},function(t,e,n){"use strict";var r,i=n(3),o=n(0),a=n(9),s=n(10),u=n(11),c=n(7),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(){return"\n    precision "+i.capabilities.precision+" float;\n\n    void main() {\n        gl_FragColor = vec4(vec3(0.5), 1.0);\n    }\n"},l=function(t){function e(e,n){for(var r=[],i=.5*e,o=0;o<n+1;o+=1){var a=Object(c.lerp)(-i,i,o/n),s=0,u=-i,f=Object(c.lerp)(-i,i,o/n),h=0,l=i;r=r.concat([a,s,u,f,h,l])}for(var o=0;o<n+1;o+=1){var a=-i,s=0,u=Object(c.lerp)(-i,i,o/n),f=i,h=0,l=Object(c.lerp)(-i,i,o/n);r=r.concat([a,s,u,f,h,l])}return t.call(this,new Float32Array(r))||this}return f(e,t),e}(u.a),v=function(t){function e(e,n){void 0===e&&(e=1),void 0===n&&(n=10);var r=h();return t.call(this,new l(e,n),new a.a({name:"GridHelper",vertexShader:"\n    attribute vec3 aVertexPosition;\n\n    uniform mat4 uProjectionMatrix;\n    uniform mat4 uModelViewMatrix;\n\n    void main() {\n        gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aVertexPosition, 1.0);\n    }\n",fragmentShader:r}))||this}return f(e,t),e.prototype.draw=function(t){this.visible&&(r=o.get(),this.updateMatrix(t),this.material.program.bind(),this.material.setUniforms(t.projectionMatrix,this.modelViewMatrix,this.modelMatrix,t),i.extensions.vertexArrayObjectExtension?this.vertexArrayObject.bind():(this.bindAttributes(),this.bindAttributesInstanced(),this.bindIndexBuffer()),r.drawArrays(r.LINES,0,this.geometry.attributes.aVertexPosition.numItems),i.extensions.vertexArrayObjectExtension&&this.vertexArrayObject.unbind())},e}(s.a);e.a=v}])});